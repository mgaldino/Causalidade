<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 10 Synthetic Control | Curso de Inferência Causal</title>
  <meta name="description" content="Capítulo 10 Synthetic Control | Curso de Inferência Causal" />
  <meta name="generator" content="bookdown 0.41 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 10 Synthetic Control | Curso de Inferência Causal" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 10 Synthetic Control | Curso de Inferência Causal" />
  
  
  

<meta name="author" content="Manoel Galdino" />


<meta name="date" content="2025-06-03" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="time-series-cross-section-tscs.html"/>
<link rel="next" href="llms-e-outras.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Causalidade</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introdução</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#revisão-de-regressão"><i class="fa fa-check"></i><b>1.1</b> Revisão de Regressão</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="index.html"><a href="index.html#teorema-da-anatomia-da-regressão"><i class="fa fa-check"></i><b>1.1.1</b> Teorema da Anatomia da Regressão</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#inferência"><i class="fa fa-check"></i><b>1.2</b> Inferência</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#referências"><i class="fa fa-check"></i><b>1.3</b> Referências</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="resultados-potenciais.html"><a href="resultados-potenciais.html"><i class="fa fa-check"></i><b>2</b> Resultados Potenciais</a>
<ul>
<li class="chapter" data-level="2.1" data-path="resultados-potenciais.html"><a href="resultados-potenciais.html#causalidade-e-o-método-comparativo"><i class="fa fa-check"></i><b>2.1</b> Causalidade e o Método Comparativo</a></li>
<li class="chapter" data-level="2.2" data-path="resultados-potenciais.html"><a href="resultados-potenciais.html#potential-outcomes"><i class="fa fa-check"></i><b>2.2</b> Potential Outcomes</a></li>
<li class="chapter" data-level="2.3" data-path="resultados-potenciais.html"><a href="resultados-potenciais.html#notação"><i class="fa fa-check"></i><b>2.3</b> Notação</a></li>
<li class="chapter" data-level="2.4" data-path="resultados-potenciais.html"><a href="resultados-potenciais.html#problema-fundamental-da-inferência-causal"><i class="fa fa-check"></i><b>2.4</b> Problema Fundamental da Inferência Causal</a></li>
<li class="chapter" data-level="2.5" data-path="resultados-potenciais.html"><a href="resultados-potenciais.html#estimando"><i class="fa fa-check"></i><b>2.5</b> Estimando</a></li>
<li class="chapter" data-level="2.6" data-path="resultados-potenciais.html"><a href="resultados-potenciais.html#estimandos-mais-comuns"><i class="fa fa-check"></i><b>2.6</b> Estimandos Mais Comuns</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="resultados-potenciais.html"><a href="resultados-potenciais.html#ate"><i class="fa fa-check"></i><b>2.6.1</b> ATE</a></li>
<li class="chapter" data-level="2.6.2" data-path="resultados-potenciais.html"><a href="resultados-potenciais.html#att"><i class="fa fa-check"></i><b>2.6.2</b> ATT</a></li>
<li class="chapter" data-level="2.6.3" data-path="resultados-potenciais.html"><a href="resultados-potenciais.html#cate"><i class="fa fa-check"></i><b>2.6.3</b> CATE</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="resultados-potenciais.html"><a href="resultados-potenciais.html#nota-sobre-estimandos"><i class="fa fa-check"></i><b>2.7</b> Nota sobre estimandos</a></li>
<li class="chapter" data-level="2.8" data-path="resultados-potenciais.html"><a href="resultados-potenciais.html#exercício---qual-o-estimando-e-o-estimador-se-possível"><i class="fa fa-check"></i><b>2.8</b> Exercício - Qual o estimando e o estimador (se possível)?</a></li>
<li class="chapter" data-level="2.9" data-path="resultados-potenciais.html"><a href="resultados-potenciais.html#identificação"><i class="fa fa-check"></i><b>2.9</b> Identificação</a></li>
<li class="chapter" data-level="2.10" data-path="resultados-potenciais.html"><a href="resultados-potenciais.html#identificação-do-ate"><i class="fa fa-check"></i><b>2.10</b> Identificação do ATE</a></li>
<li class="chapter" data-level="2.11" data-path="resultados-potenciais.html"><a href="resultados-potenciais.html#equações-estruturais"><i class="fa fa-check"></i><b>2.11</b> Equações estruturais</a></li>
<li class="chapter" data-level="2.12" data-path="resultados-potenciais.html"><a href="resultados-potenciais.html#modelo-versus-desenho"><i class="fa fa-check"></i><b>2.12</b> Modelo versus Desenho</a></li>
<li class="chapter" data-level="2.13" data-path="resultados-potenciais.html"><a href="resultados-potenciais.html#exercício-em-sala"><i class="fa fa-check"></i><b>2.13</b> Exercício em sala</a></li>
<li class="chapter" data-level="2.14" data-path="resultados-potenciais.html"><a href="resultados-potenciais.html#referências-1"><i class="fa fa-check"></i><b>2.14</b> Referências</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="dags.html"><a href="dags.html"><i class="fa fa-check"></i><b>3</b> DAGs</a>
<ul>
<li class="chapter" data-level="3.1" data-path="dags.html"><a href="dags.html#causalidade"><i class="fa fa-check"></i><b>3.1</b> Causalidade</a></li>
<li class="chapter" data-level="3.2" data-path="dags.html"><a href="dags.html#introdução-1"><i class="fa fa-check"></i><b>3.2</b> Introdução</a></li>
<li class="chapter" data-level="3.3" data-path="dags.html"><a href="dags.html#os-tipos-básicos-de-dags"><i class="fa fa-check"></i><b>3.3</b> Os Tipos Básicos de DAGs</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="dags.html"><a href="dags.html#chains"><i class="fa fa-check"></i><b>3.3.1</b> 1. Chains</a></li>
<li class="chapter" data-level="3.3.2" data-path="dags.html"><a href="dags.html#forks"><i class="fa fa-check"></i><b>3.3.2</b> 2. Forks</a></li>
<li class="chapter" data-level="3.3.3" data-path="dags.html"><a href="dags.html#colliders"><i class="fa fa-check"></i><b>3.3.3</b> 3. Colliders</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="dags.html"><a href="dags.html#simulação-no-r-ilustrando-o-collider-bias"><i class="fa fa-check"></i><b>3.4</b> Simulação no R: Ilustrando o Collider Bias</a></li>
<li class="chapter" data-level="3.5" data-path="dags.html"><a href="dags.html#definições"><i class="fa fa-check"></i><b>3.5</b> Definições</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="dags.html"><a href="dags.html#relações-entre-variáveis-nós"><i class="fa fa-check"></i><b>3.5.1</b> Relações entre Variáveis (nós):</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="dags.html"><a href="dags.html#controle-e-ajuste"><i class="fa fa-check"></i><b>3.6</b> Controle e Ajuste</a></li>
<li class="chapter" data-level="3.7" data-path="dags.html"><a href="dags.html#fatorização-da-probabilidade-conjunta"><i class="fa fa-check"></i><b>3.7</b> Fatorização da Probabilidade Conjunta</a></li>
<li class="chapter" data-level="3.8" data-path="dags.html"><a href="dags.html#fatorização-e-dags"><i class="fa fa-check"></i><b>3.8</b> Fatorização e DAGs</a></li>
<li class="chapter" data-level="3.9" data-path="dags.html"><a href="dags.html#fatorização-dags-e-causalidade"><i class="fa fa-check"></i><b>3.9</b> Fatorização, DAGs e Causalidade</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="experimentos.html"><a href="experimentos.html"><i class="fa fa-check"></i><b>4</b> Experimentos</a>
<ul>
<li class="chapter" data-level="4.1" data-path="experimentos.html"><a href="experimentos.html#introdução-2"><i class="fa fa-check"></i><b>4.1</b> Introdução</a></li>
<li class="chapter" data-level="4.2" data-path="experimentos.html"><a href="experimentos.html#experimentos-aleatórios"><i class="fa fa-check"></i><b>4.2</b> Experimentos aleatórios</a></li>
<li class="chapter" data-level="4.3" data-path="experimentos.html"><a href="experimentos.html#restrição-de-exclusão"><i class="fa fa-check"></i><b>4.3</b> Restrição de Exclusão</a></li>
<li class="chapter" data-level="4.4" data-path="experimentos.html"><a href="experimentos.html#tipos-de-experimentos"><i class="fa fa-check"></i><b>4.4</b> Tipos de experimentos</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="experimentos.html"><a href="experimentos.html#aleatorização-de-bernoulli"><i class="fa fa-check"></i><b>4.4.1</b> Aleatorização de Bernoulli</a></li>
<li class="chapter" data-level="4.4.2" data-path="experimentos.html"><a href="experimentos.html#aleatorização-completa"><i class="fa fa-check"></i><b>4.4.2</b> Aleatorização Completa</a></li>
<li class="chapter" data-level="4.4.3" data-path="experimentos.html"><a href="experimentos.html#aleatorização-condicional-block-random-assigment"><i class="fa fa-check"></i><b>4.4.3</b> Aleatorização Condicional (Block Random Assigment)</a></li>
<li class="chapter" data-level="4.4.4" data-path="experimentos.html"><a href="experimentos.html#pensando-aleatorização-em-bloco"><i class="fa fa-check"></i><b>4.4.4</b> Pensando aleatorização em bloco</a></li>
<li class="chapter" data-level="4.4.5" data-path="experimentos.html"><a href="experimentos.html#ate-com-aleatorização-condicional-bloco"><i class="fa fa-check"></i><b>4.4.5</b> ATE com Aleatorização Condicional (Bloco)</a></li>
<li class="chapter" data-level="4.4.6" data-path="experimentos.html"><a href="experimentos.html#aleatorização-em-bloco"><i class="fa fa-check"></i><b>4.4.6</b> Aleatorização em bloco</a></li>
<li class="chapter" data-level="4.4.7" data-path="experimentos.html"><a href="experimentos.html#precisão-da-aleatorização-em-bloco"><i class="fa fa-check"></i><b>4.4.7</b> Precisão da aleatorização em bloco</a></li>
<li class="chapter" data-level="4.4.8" data-path="experimentos.html"><a href="experimentos.html#comparação-de-ses"><i class="fa fa-check"></i><b>4.4.8</b> Comparação de SEs</a></li>
<li class="chapter" data-level="4.4.9" data-path="experimentos.html"><a href="experimentos.html#cluster-randomization"><i class="fa fa-check"></i><b>4.4.9</b> Cluster randomization</a></li>
<li class="chapter" data-level="4.4.10" data-path="experimentos.html"><a href="experimentos.html#tabelas-em-artigos"><i class="fa fa-check"></i><b>4.4.10</b> Tabelas em artigos</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="experimentos.html"><a href="experimentos.html#estimador-ate"><i class="fa fa-check"></i><b>4.5</b> Estimador ATE</a></li>
<li class="chapter" data-level="4.6" data-path="experimentos.html"><a href="experimentos.html#key-takeways"><i class="fa fa-check"></i><b>4.6</b> Key Takeways</a></li>
<li class="chapter" data-level="4.7" data-path="experimentos.html"><a href="experimentos.html#declare-design"><i class="fa fa-check"></i><b>4.7</b> Declare Design</a></li>
<li class="chapter" data-level="4.8" data-path="experimentos.html"><a href="experimentos.html#exercício"><i class="fa fa-check"></i><b>4.8</b> Exercício</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="experimentos.html"><a href="experimentos.html#experimento-com-envio-de-cartões-postais-e-participação-eleitoral"><i class="fa fa-check"></i><b>4.8.1</b> Experimento com envio de cartões-postais e participação eleitoral</a></li>
<li class="chapter" data-level="4.8.2" data-path="experimentos.html"><a href="experimentos.html#experimento-com-anúncios-de-tv-e-participação-eleitoral"><i class="fa fa-check"></i><b>4.8.2</b> Experimento com anúncios de TV e participação eleitoral</a></li>
<li class="chapter" data-level="4.8.3" data-path="experimentos.html"><a href="experimentos.html#exclusão-de-participantes-em-experimentos-de-survey"><i class="fa fa-check"></i><b>4.8.3</b> Exclusão de participantes em experimentos de survey</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="propensity-score-e-matching.html"><a href="propensity-score-e-matching.html"><i class="fa fa-check"></i><b>5</b> Propensity Score e Matching</a>
<ul>
<li class="chapter" data-level="5.1" data-path="propensity-score-e-matching.html"><a href="propensity-score-e-matching.html#introdução-3"><i class="fa fa-check"></i><b>5.1</b> Introdução</a></li>
<li class="chapter" data-level="5.2" data-path="propensity-score-e-matching.html"><a href="propensity-score-e-matching.html#propensity-score"><i class="fa fa-check"></i><b>5.2</b> Propensity Score</a></li>
<li class="chapter" data-level="5.3" data-path="propensity-score-e-matching.html"><a href="propensity-score-e-matching.html#matching"><i class="fa fa-check"></i><b>5.3</b> Matching</a></li>
<li class="chapter" data-level="5.4" data-path="propensity-score-e-matching.html"><a href="propensity-score-e-matching.html#suposições-de-identificação"><i class="fa fa-check"></i><b>5.4</b> Suposições de identificação</a></li>
<li class="chapter" data-level="5.5" data-path="propensity-score-e-matching.html"><a href="propensity-score-e-matching.html#matching-1"><i class="fa fa-check"></i><b>5.5</b> Matching</a></li>
<li class="chapter" data-level="5.6" data-path="propensity-score-e-matching.html"><a href="propensity-score-e-matching.html#matching-exato"><i class="fa fa-check"></i><b>5.6</b> Matching exato</a></li>
<li class="chapter" data-level="5.7" data-path="propensity-score-e-matching.html"><a href="propensity-score-e-matching.html#matching-aproximado"><i class="fa fa-check"></i><b>5.7</b> Matching aproximado</a></li>
<li class="chapter" data-level="5.8" data-path="propensity-score-e-matching.html"><a href="propensity-score-e-matching.html#estimando-1"><i class="fa fa-check"></i><b>5.8</b> Estimando</a></li>
<li class="chapter" data-level="5.9" data-path="propensity-score-e-matching.html"><a href="propensity-score-e-matching.html#declare-design-e-matching"><i class="fa fa-check"></i><b>5.9</b> Declare Design e Matching</a>
<ul>
<li class="chapter" data-level="5.9.1" data-path="propensity-score-e-matching.html"><a href="propensity-score-e-matching.html#matching-e-propensity-scores"><i class="fa fa-check"></i><b>5.9.1</b> Matching e Propensity scores</a></li>
</ul></li>
<li class="chapter" data-level="5.10" data-path="propensity-score-e-matching.html"><a href="propensity-score-e-matching.html#recomendações-práticas-sobre-matching"><i class="fa fa-check"></i><b>5.10</b> Recomendações Práticas sobre Matching</a>
<ul>
<li class="chapter" data-level="5.10.1" data-path="propensity-score-e-matching.html"><a href="propensity-score-e-matching.html#avaliação-do-matching-feito"><i class="fa fa-check"></i><b>5.10.1</b> Avaliação do matching feito</a></li>
</ul></li>
<li class="chapter" data-level="5.11" data-path="propensity-score-e-matching.html"><a href="propensity-score-e-matching.html#referências-2"><i class="fa fa-check"></i><b>5.11</b> Referências</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="variáveis-instrumentais.html"><a href="variáveis-instrumentais.html"><i class="fa fa-check"></i><b>6</b> Variáveis Instrumentais</a>
<ul>
<li class="chapter" data-level="6.1" data-path="variáveis-instrumentais.html"><a href="variáveis-instrumentais.html#introdução-4"><i class="fa fa-check"></i><b>6.1</b> Introdução</a></li>
<li class="chapter" data-level="6.2" data-path="variáveis-instrumentais.html"><a href="variáveis-instrumentais.html#iv-com-modelo-estrutural"><i class="fa fa-check"></i><b>6.2</b> IV com modelo estrutural</a></li>
<li class="chapter" data-level="6.3" data-path="variáveis-instrumentais.html"><a href="variáveis-instrumentais.html#mqo-em-2-estágios"><i class="fa fa-check"></i><b>6.3</b> MQO em 2 Estágios</a></li>
<li class="chapter" data-level="6.4" data-path="variáveis-instrumentais.html"><a href="variáveis-instrumentais.html#principais-usos-de-iv"><i class="fa fa-check"></i><b>6.4</b> Principais usos de IV</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="variáveis-instrumentais.html"><a href="variáveis-instrumentais.html#experimentos-1"><i class="fa fa-check"></i><b>6.4.1</b> Experimentos</a></li>
<li class="chapter" data-level="6.4.2" data-path="variáveis-instrumentais.html"><a href="variáveis-instrumentais.html#regras-com-variação-quasi-aleatória"><i class="fa fa-check"></i><b>6.4.2</b> Regras com variação quasi-aleatória</a></li>
<li class="chapter" data-level="6.4.3" data-path="variáveis-instrumentais.html"><a href="variáveis-instrumentais.html#teoria"><i class="fa fa-check"></i><b>6.4.3</b> Teoria</a></li>
<li class="chapter" data-level="6.4.4" data-path="variáveis-instrumentais.html"><a href="variáveis-instrumentais.html#suposições-para-estimar-o-late"><i class="fa fa-check"></i><b>6.4.4</b> Suposições para estimar o LATE</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="variáveis-instrumentais.html"><a href="variáveis-instrumentais.html#restrição-de-exclusão-1"><i class="fa fa-check"></i><b>6.5</b> Restrição de Exclusão</a></li>
<li class="chapter" data-level="6.6" data-path="variáveis-instrumentais.html"><a href="variáveis-instrumentais.html#monoticidade"><i class="fa fa-check"></i><b>6.6</b> Monoticidade</a></li>
<li class="chapter" data-level="6.7" data-path="variáveis-instrumentais.html"><a href="variáveis-instrumentais.html#estimação-aka-estatística-f"><i class="fa fa-check"></i><b>6.7</b> Estimação (aka estatística F)</a>
<ul>
<li class="chapter" data-level="6.7.1" data-path="variáveis-instrumentais.html"><a href="variáveis-instrumentais.html#f-stat"><i class="fa fa-check"></i><b>6.7.1</b> F stat</a></li>
</ul></li>
<li class="chapter" data-level="6.8" data-path="variáveis-instrumentais.html"><a href="variáveis-instrumentais.html#referências-3"><i class="fa fa-check"></i><b>6.8</b> Referências</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="desenho-de-regresão-discontínua.html"><a href="desenho-de-regresão-discontínua.html"><i class="fa fa-check"></i><b>7</b> Desenho de Regresão Discontínua</a>
<ul>
<li class="chapter" data-level="7.1" data-path="desenho-de-regresão-discontínua.html"><a href="desenho-de-regresão-discontínua.html#outline-da-aula"><i class="fa fa-check"></i><b>7.1</b> Outline da aula</a></li>
<li class="chapter" data-level="7.2" data-path="desenho-de-regresão-discontínua.html"><a href="desenho-de-regresão-discontínua.html#características-chave-da-rdd"><i class="fa fa-check"></i><b>7.2</b> Características-chave da RDD</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="desenho-de-regresão-discontínua.html"><a href="desenho-de-regresão-discontínua.html#determinação-do-tratamento"><i class="fa fa-check"></i><b>7.2.1</b> Determinação do Tratamento</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="desenho-de-regresão-discontínua.html"><a href="desenho-de-regresão-discontínua.html#fuzzy-rdd"><i class="fa fa-check"></i><b>7.3</b> Fuzzy RDD</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="desenho-de-regresão-discontínua.html"><a href="desenho-de-regresão-discontínua.html#observação-e-corte"><i class="fa fa-check"></i><b>7.3.1</b> Observação e Corte</a></li>
<li class="chapter" data-level="7.3.2" data-path="desenho-de-regresão-discontínua.html"><a href="desenho-de-regresão-discontínua.html#estimativa-dos-efeitos-do-tratamento"><i class="fa fa-check"></i><b>7.3.2</b> Estimativa dos Efeitos do Tratamento</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="desenho-de-regresão-discontínua.html"><a href="desenho-de-regresão-discontínua.html#suposição-de-continuidade"><i class="fa fa-check"></i><b>7.4</b> Suposição de continuidade</a></li>
<li class="chapter" data-level="7.5" data-path="desenho-de-regresão-discontínua.html"><a href="desenho-de-regresão-discontínua.html#suposições-na-rdd"><i class="fa fa-check"></i><b>7.5</b> Suposições na RDD</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="desenho-de-regresão-discontínua.html"><a href="desenho-de-regresão-discontínua.html#suposição-de-não-manipulação-com-precisão"><i class="fa fa-check"></i><b>7.5.1</b> Suposição de Não-manipulação com Precisão</a></li>
<li class="chapter" data-level="7.5.2" data-path="desenho-de-regresão-discontínua.html"><a href="desenho-de-regresão-discontínua.html#problemas-de-manipulação"><i class="fa fa-check"></i><b>7.5.2</b> Problemas de Manipulação</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="desenho-de-regresão-discontínua.html"><a href="desenho-de-regresão-discontínua.html#testabilidade-da-suposição-de-não-manipulação"><i class="fa fa-check"></i><b>7.6</b> Testabilidade da Suposição de não-Manipulação</a></li>
<li class="chapter" data-level="7.7" data-path="desenho-de-regresão-discontínua.html"><a href="desenho-de-regresão-discontínua.html#estimação-em-rdd"><i class="fa fa-check"></i><b>7.7</b> Estimação em RDD</a>
<ul>
<li class="chapter" data-level="7.7.1" data-path="desenho-de-regresão-discontínua.html"><a href="desenho-de-regresão-discontínua.html#problema-de-complete-overlapping"><i class="fa fa-check"></i><b>7.7.1</b> Problema de Complete Overlapping</a></li>
<li class="chapter" data-level="7.7.2" data-path="desenho-de-regresão-discontínua.html"><a href="desenho-de-regresão-discontínua.html#dependência-de-extrapolação"><i class="fa fa-check"></i><b>7.7.2</b> Dependência de Extrapolação</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="desenho-de-regresão-discontínua.html"><a href="desenho-de-regresão-discontínua.html#métodos-de-estimação"><i class="fa fa-check"></i><b>7.8</b> Métodos de Estimação</a>
<ul>
<li class="chapter" data-level="7.8.1" data-path="desenho-de-regresão-discontínua.html"><a href="desenho-de-regresão-discontínua.html#identificação-no-limite"><i class="fa fa-check"></i><b>7.8.1</b> Identificação no Limite</a></li>
</ul></li>
<li class="chapter" data-level="7.9" data-path="desenho-de-regresão-discontínua.html"><a href="desenho-de-regresão-discontínua.html#trade-off-de-viés-variância"><i class="fa fa-check"></i><b>7.9</b> Trade-off de Viés-Variância</a>
<ul>
<li class="chapter" data-level="7.9.1" data-path="desenho-de-regresão-discontínua.html"><a href="desenho-de-regresão-discontínua.html#métodos-de-largura-de-banda-ótima"><i class="fa fa-check"></i><b>7.9.1</b> Métodos de Largura de Banda Ótima</a></li>
</ul></li>
<li class="chapter" data-level="7.10" data-path="desenho-de-regresão-discontínua.html"><a href="desenho-de-regresão-discontínua.html#regras-arbitrárias"><i class="fa fa-check"></i><b>7.10</b> Regras arbitrárias</a></li>
<li class="chapter" data-level="7.11" data-path="desenho-de-regresão-discontínua.html"><a href="desenho-de-regresão-discontínua.html#simulação"><i class="fa fa-check"></i><b>7.11</b> Simulação</a></li>
<li class="chapter" data-level="7.12" data-path="desenho-de-regresão-discontínua.html"><a href="desenho-de-regresão-discontínua.html#simulação---potential-outcomes-y0"><i class="fa fa-check"></i><b>7.12</b> Simulação - Potential Outcomes Y0</a></li>
<li class="chapter" data-level="7.13" data-path="desenho-de-regresão-discontínua.html"><a href="desenho-de-regresão-discontínua.html#simulação---potential-outcomes-y1"><i class="fa fa-check"></i><b>7.13</b> Simulação - Potential Outcomes Y1</a></li>
<li class="chapter" data-level="7.14" data-path="desenho-de-regresão-discontínua.html"><a href="desenho-de-regresão-discontínua.html#simulação---potential-outcomes-y1-e-y0"><i class="fa fa-check"></i><b>7.14</b> Simulação - Potential Outcomes Y1 e Y0</a></li>
<li class="chapter" data-level="7.15" data-path="desenho-de-regresão-discontínua.html"><a href="desenho-de-regresão-discontínua.html#simulação---y-observado"><i class="fa fa-check"></i><b>7.15</b> Simulação - Y observado</a></li>
<li class="chapter" data-level="7.16" data-path="desenho-de-regresão-discontínua.html"><a href="desenho-de-regresão-discontínua.html#quando-o-rdd-funciona"><i class="fa fa-check"></i><b>7.16</b> Quando o RDD funciona?</a></li>
<li class="chapter" data-level="7.17" data-path="desenho-de-regresão-discontínua.html"><a href="desenho-de-regresão-discontínua.html#raw-data-versus-bin"><i class="fa fa-check"></i><b>7.17</b> Raw Data versus Bin</a></li>
<li class="chapter" data-level="7.18" data-path="desenho-de-regresão-discontínua.html"><a href="desenho-de-regresão-discontínua.html#permutation-tests-balancing"><i class="fa fa-check"></i><b>7.18</b> Permutation tests (balancing)</a></li>
<li class="chapter" data-level="7.19" data-path="desenho-de-regresão-discontínua.html"><a href="desenho-de-regresão-discontínua.html#mccray-test"><i class="fa fa-check"></i><b>7.19</b> McCray test</a></li>
<li class="chapter" data-level="7.20" data-path="desenho-de-regresão-discontínua.html"><a href="desenho-de-regresão-discontínua.html#robustez"><i class="fa fa-check"></i><b>7.20</b> Robustez</a></li>
<li class="chapter" data-level="7.21" data-path="desenho-de-regresão-discontínua.html"><a href="desenho-de-regresão-discontínua.html#densidade-descontínua---results"><i class="fa fa-check"></i><b>7.21</b> Densidade descontínua - results</a></li>
<li class="chapter" data-level="7.22" data-path="desenho-de-regresão-discontínua.html"><a href="desenho-de-regresão-discontínua.html#regressão-rdd"><i class="fa fa-check"></i><b>7.22</b> Regressão RDD</a></li>
<li class="chapter" data-level="7.23" data-path="desenho-de-regresão-discontínua.html"><a href="desenho-de-regresão-discontínua.html#placebo-tests"><i class="fa fa-check"></i><b>7.23</b> Placebo Tests</a></li>
<li class="chapter" data-level="7.24" data-path="desenho-de-regresão-discontínua.html"><a href="desenho-de-regresão-discontínua.html#pcrd"><i class="fa fa-check"></i><b>7.24</b> PCRD</a></li>
<li class="chapter" data-level="7.25" data-path="desenho-de-regresão-discontínua.html"><a href="desenho-de-regresão-discontínua.html#checlist-para-um-paper"><i class="fa fa-check"></i><b>7.25</b> Checlist para um paper</a></li>
<li class="chapter" data-level="7.26" data-path="desenho-de-regresão-discontínua.html"><a href="desenho-de-regresão-discontínua.html#referências-4"><i class="fa fa-check"></i><b>7.26</b> Referências</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="diferença-em-diferenças.html"><a href="diferença-em-diferenças.html"><i class="fa fa-check"></i><b>8</b> Diferença em Diferenças</a>
<ul>
<li class="chapter" data-level="8.1" data-path="diferença-em-diferenças.html"><a href="diferença-em-diferenças.html#modelo-básico-2x2"><i class="fa fa-check"></i><b>8.1</b> Modelo básico 2x2</a></li>
<li class="chapter" data-level="8.2" data-path="diferença-em-diferenças.html"><a href="diferença-em-diferenças.html#twfe"><i class="fa fa-check"></i><b>8.2</b> TWFE</a></li>
<li class="chapter" data-level="8.3" data-path="diferença-em-diferenças.html"><a href="diferença-em-diferenças.html#pressupostos"><i class="fa fa-check"></i><b>8.3</b> Pressupostos</a></li>
<li class="chapter" data-level="8.4" data-path="diferença-em-diferenças.html"><a href="diferença-em-diferenças.html#aplicação"><i class="fa fa-check"></i><b>8.4</b> Aplicação</a></li>
<li class="chapter" data-level="8.5" data-path="diferença-em-diferenças.html"><a href="diferença-em-diferenças.html#múltiplos-períodos"><i class="fa fa-check"></i><b>8.5</b> Múltiplos períodos</a></li>
<li class="chapter" data-level="8.6" data-path="diferença-em-diferenças.html"><a href="diferença-em-diferenças.html#tendências-paralelas"><i class="fa fa-check"></i><b>8.6</b> Tendências Paralelas</a></li>
<li class="chapter" data-level="8.7" data-path="diferença-em-diferenças.html"><a href="diferença-em-diferenças.html#múltiplos-períodos-pós-tratamento"><i class="fa fa-check"></i><b>8.7</b> Múltiplos períodos pós-tratamento</a></li>
<li class="chapter" data-level="8.8" data-path="diferença-em-diferenças.html"><a href="diferença-em-diferenças.html#análise-de-sensibilidade-em-did"><i class="fa fa-check"></i><b>8.8</b> Análise de sensibilidade em DiD</a></li>
<li class="chapter" data-level="8.9" data-path="diferença-em-diferenças.html"><a href="diferença-em-diferenças.html#did-generalizado"><i class="fa fa-check"></i><b>8.9</b> DiD generalizado</a></li>
<li class="chapter" data-level="8.10" data-path="diferença-em-diferenças.html"><a href="diferença-em-diferenças.html#did-com-adoção-escalonada-staggered-timing"><i class="fa fa-check"></i><b>8.10</b> DID com adoção escalonada (staggered timing)</a></li>
<li class="chapter" data-level="8.11" data-path="diferença-em-diferenças.html"><a href="diferença-em-diferenças.html#paper-voter-gratitude-last-long"><i class="fa fa-check"></i><b>8.11</b> Paper Voter Gratitude Last Long?</a></li>
<li class="chapter" data-level="8.12" data-path="diferença-em-diferenças.html"><a href="diferença-em-diferenças.html#referências-5"><i class="fa fa-check"></i><b>8.12</b> Referências</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="time-series-cross-section-tscs.html"><a href="time-series-cross-section-tscs.html"><i class="fa fa-check"></i><b>9</b> Time-Series Cross-Section (TSCS)</a>
<ul>
<li class="chapter" data-level="9.1" data-path="time-series-cross-section-tscs.html"><a href="time-series-cross-section-tscs.html#introdução-5"><i class="fa fa-check"></i><b>9.1</b> Introdução</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="time-series-cross-section-tscs.html"><a href="time-series-cross-section-tscs.html#within-versus-between"><i class="fa fa-check"></i><b>9.1.1</b> Within versus Between</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="time-series-cross-section-tscs.html"><a href="time-series-cross-section-tscs.html#ovb"><i class="fa fa-check"></i><b>9.2</b> OVB</a></li>
<li class="chapter" data-level="9.3" data-path="time-series-cross-section-tscs.html"><a href="time-series-cross-section-tscs.html#estimandos"><i class="fa fa-check"></i><b>9.3</b> Estimandos</a></li>
<li class="chapter" data-level="9.4" data-path="time-series-cross-section-tscs.html"><a href="time-series-cross-section-tscs.html#resultados-potenciais-1"><i class="fa fa-check"></i><b>9.4</b> Resultados Potenciais</a></li>
<li class="chapter" data-level="9.5" data-path="time-series-cross-section-tscs.html"><a href="time-series-cross-section-tscs.html#modelo-ar1"><i class="fa fa-check"></i><b>9.5</b> Modelo AR(1)</a></li>
<li class="chapter" data-level="9.6" data-path="time-series-cross-section-tscs.html"><a href="time-series-cross-section-tscs.html#sequential-ignorability"><i class="fa fa-check"></i><b>9.6</b> Sequential ignorability</a></li>
<li class="chapter" data-level="9.7" data-path="time-series-cross-section-tscs.html"><a href="time-series-cross-section-tscs.html#resumo"><i class="fa fa-check"></i><b>9.7</b> Resumo</a>
<ul>
<li class="chapter" data-level="9.7.1" data-path="time-series-cross-section-tscs.html"><a href="time-series-cross-section-tscs.html#remark"><i class="fa fa-check"></i><b>9.7.1</b> Remark</a></li>
</ul></li>
<li class="chapter" data-level="9.8" data-path="time-series-cross-section-tscs.html"><a href="time-series-cross-section-tscs.html#suposições-para-inferência"><i class="fa fa-check"></i><b>9.8</b> Suposições para Inferência</a>
<ul>
<li class="chapter" data-level="9.8.1" data-path="time-series-cross-section-tscs.html"><a href="time-series-cross-section-tscs.html#remark-1"><i class="fa fa-check"></i><b>9.8.1</b> Remark</a></li>
</ul></li>
<li class="chapter" data-level="9.9" data-path="time-series-cross-section-tscs.html"><a href="time-series-cross-section-tscs.html#efeitos-aleatórios"><i class="fa fa-check"></i><b>9.9</b> Efeitos aleatórios</a></li>
<li class="chapter" data-level="9.10" data-path="time-series-cross-section-tscs.html"><a href="time-series-cross-section-tscs.html#referências-6"><i class="fa fa-check"></i><b>9.10</b> Referências</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="synthetic-control.html"><a href="synthetic-control.html"><i class="fa fa-check"></i><b>10</b> Synthetic Control</a>
<ul>
<li class="chapter" data-level="10.0.1" data-path="synthetic-control.html"><a href="synthetic-control.html#tratamento"><i class="fa fa-check"></i><b>10.0.1</b> Tratamento</a></li>
<li class="chapter" data-level="10.1" data-path="synthetic-control.html"><a href="synthetic-control.html#implementação-no-r"><i class="fa fa-check"></i><b>10.1</b> Implementação no R</a></li>
<li class="chapter" data-level="10.2" data-path="synthetic-control.html"><a href="synthetic-control.html#synthethic-did"><i class="fa fa-check"></i><b>10.2</b> Synthethic DiD</a></li>
<li class="chapter" data-level="10.3" data-path="synthetic-control.html"><a href="synthetic-control.html#referências-7"><i class="fa fa-check"></i><b>10.3</b> Referências</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="llms-e-outras.html"><a href="llms-e-outras.html"><i class="fa fa-check"></i><b>11</b> LLMs e outras</a>
<ul>
<li class="chapter" data-level="11.1" data-path="llms-e-outras.html"><a href="llms-e-outras.html#google-colab"><i class="fa fa-check"></i><b>11.1</b> Google Colab</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="interferência-spillover-e-dinâmica.html"><a href="interferência-spillover-e-dinâmica.html"><i class="fa fa-check"></i><b>12</b> Interferência, spillover e dinâmica</a>
<ul>
<li class="chapter" data-level="12.1" data-path="interferência-spillover-e-dinâmica.html"><a href="interferência-spillover-e-dinâmica.html#suposições-simplifcadoras"><i class="fa fa-check"></i><b>12.1</b> Suposições simplifcadoras</a></li>
<li class="chapter" data-level="12.2" data-path="interferência-spillover-e-dinâmica.html"><a href="interferência-spillover-e-dinâmica.html#po-com-tratamento-de-múltiplos-valores-multi-valued"><i class="fa fa-check"></i><b>12.2</b> PO com tratamento de múltiplos valores (multi-valued)</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="interferência-spillover-e-dinâmica.html"><a href="interferência-spillover-e-dinâmica.html#multi-valued-discreto"><i class="fa fa-check"></i><b>12.2.1</b> Multi-valued discreto</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="interferência-spillover-e-dinâmica.html"><a href="interferência-spillover-e-dinâmica.html#dinâmica"><i class="fa fa-check"></i><b>12.3</b> Dinâmica</a></li>
<li class="chapter" data-level="12.4" data-path="interferência-spillover-e-dinâmica.html"><a href="interferência-spillover-e-dinâmica.html#interferência"><i class="fa fa-check"></i><b>12.4</b> Interferência</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Curso de Inferência Causal</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="synthetic-control" class="section level1 hasAnchor" number="10">
<h1><span class="header-section-number">Capítulo 10</span> Synthetic Control<a href="synthetic-control.html#synthetic-control" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Vamos começar com um exemplo, já famoso na literatura, de Controle Sintético. O estado da Califórnia implmentou uma proibição de uso de cigarro e digamso que queremos ver o efeito dessa proibição, isto é, nosso estimando é <span class="math inline">\(\tau_{\text{ban}, \text{CA}} = Y(1)_{\text{ban}, CA} - Y(0)_{\text{ban}, \text{CA}}\)</span>.</p>
<p>Como não observamos <span class="math inline">\(Y(0)_{\text{ban}, \text{CA}}\)</span>, temos de criar uma “Califórnia sintética”. Antigamente, iremos usar alguma média dos demais estados “não-tratados”para estimar o contrafactual. Contudo, não é muito convincente.</p>
<table>
<thead>
<tr class="header">
<th align="right">state</th>
<th align="right">year</th>
<th align="right">cigsale</th>
<th align="right">retprice</th>
<th align="left">california</th>
<th align="left">after_treatment</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">1970</td>
<td align="right">89.8</td>
<td align="right">39.6</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">1971</td>
<td align="right">95.4</td>
<td align="right">42.7</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="right">1972</td>
<td align="right">101.1</td>
<td align="right">42.3</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">1973</td>
<td align="right">102.9</td>
<td align="right">42.1</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="right">1974</td>
<td align="right">108.2</td>
<td align="right">43.1</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">1975</td>
<td align="right">111.7</td>
<td align="right">46.6</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
</tr>
</tbody>
</table>
<p><img src="bookdownproj_files/figure-html/cigarro-1.png" width="672" /></p>
<p>Suponha que obtivemos dados para <span class="math inline">\(J+1\)</span> unidades para unidades <span class="math inline">\(j = 1, 2, ..., J+1\)</span>, e sem perda de generalidade, a primeira unidade <span class="math inline">\(j=1\)</span> é a de tratamento ou sob intervenção. O grupo de unidades para comparação (<em>donor pool</em>) é dado por <span class="math inline">\(j = 2, ..., J+1\)</span>, uma coleção de unidade não-tratadas. Os dados são observados por <span class="math inline">\(T\)</span> períodos <span class="math inline">\(1, 2, ..., t_0, t_1, t_2, ..., T\)</span>, em que de <span class="math inline">\(1\)</span> até <span class="math inline">\(t_0\)</span> nenhuma unidade foi tratada ou sofreu intervenção. Para cada unidade <span class="math inline">\(j\)</span>, observamos também um conjunto de <span class="math inline">\(k\)</span> preditores, <span class="math inline">\(X_{1j}, X_{2j}, ..., X_{kj}\)</span>, que pode incluir vaores pré-intervenção da variável resposta <span class="math inline">\(y_{jt}\)</span>.</p>
<p>A ideia é usar com combinação linear do <em>donor pool</em>, com pesos apropriados, para estimar o contrafactual, isto é, o resultado potencial dos tratados. Lembrando que o estimando usual de interesse é o ATT:
<span class="math display">\[
\mathbb{E}[Y(1)_{it}|D_{it}=1] - \mathbb{E}[Y(0)_{it}|D_{it}=1]
\]</span>
A dificuldade, como sempre, é que não observamos <span class="math inline">\(\mathbb{E}[Y(0)_{it}|D_{it}=1\)</span>. Estimar ou imputar esse <em>missing data</em> a partir de uma média ponderada é o objetivo de nosso estimador. A ideia é um pouco parecida com matching, em que nós pareávamos unidades de controle com as taratdas, minimizando a distância a partir das covariáveis. Aqui, vamos fazer algo parecido, mas com uma diferença chave: vamos incluir nas covariáveis a variável resposta defasada. Esse método foi introduzido por Abadie et. al em um journal de ciência política.</p>
<p>Vamos usar a abordagem de Doudchenko e Imbens (2018) para apresentar o médo, pois vai faciliar a introdução posterior de diferença em diferenças sintéticas.</p>
<p>Nossos dados podem ser organizados da seguinte forma:</p>
<div id="tratamento" class="section level3 hasAnchor" number="10.0.1">
<h3><span class="header-section-number">10.0.1</span> Tratamento<a href="synthetic-control.html#tratamento" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Suponha, como no caso da proposição 99, que temos uma unidade tratada e o tratamento é absorvente. O banco de dado para o tratamento pode ser representado como:</p>
<span class="math display">\[\begin{aligned}
D \;=\;
\begin{bmatrix}
0 &amp; 0 &amp; 0 &amp; \cdots 0 &amp; 0\\
0 &amp; 0 &amp; 0 &amp; \cdots 0 &amp; 0\\
\vdots \\
0 &amp; 0 &amp; 0 &amp; \cdots 0 &amp; 1\\
0 &amp; 0 &amp; 0 &amp; \cdots 0 &amp; 1\\
\end{bmatrix}
\end{aligned}\]</span>
<p>Aqui, o estados estão nas colunas, Calinfórnia é a última coluna, e nas linhas temos os períodos de tempo. E podemos simplificar a matriz acima para apenas quatro blocos:</p>
<span class="math display">\[\begin{aligned}
D \;=\;
\begin{pmatrix}
\mathbf{0} &amp; \mathbf{0}  \\
\mathbf{0} &amp; \mathbf{1}
\end{pmatrix}
\end{aligned}\]</span>
<p>O que nos leva à seuinge matriz de resultados:</p>
<span class="math display">\[\begin{aligned}
Y \;=\;
\begin{pmatrix}
\mathbf{Y_{co, pre}} &amp; \mathbf{Y_{tr, pre}}  \\
\mathbf{Y_{co, post}}  &amp; \mathbf{Y_{tr, post}}
\end{pmatrix}
\;=\;
\begin{pmatrix}
Y_{co, pre}(0) &amp; Y_{tr, pre}(0)  \\
Y_{co, post}(0)  &amp; Y_{tr, post}(1)
\end{pmatrix}
\end{aligned}\]</span>
<p>E de maneira similar para as covariáveis, mas vamos simplificar e supor que não temos nenhuma, sem perda de generalidade.</p>
<p>Relembrando, nosso estimando é dado por:
<span class="math display">\[
\mathbb{E}[Y(1)_{it}|D_{it}=1] - \mathbb{E}[Y(0)_{it}|D_{it}=1]
\]</span></p>
<p>E preciso para isso estimar <span class="math inline">\(\mathbb{E}[Y(0)_{it}|D_{it}=1]\)</span>, em nossa nova notação: <span class="math inline">\(Y(0)_{it}|D_{it}=1 \text{, p/ todo t} &gt; t_0 =  Y_{tr, post}(0)\)</span>. E nosso estimador será:
<span class="math display">\[
Y_{tr, post}(0) = \mu + \sum_{i \in co}w_iY_{i,t}
\]</span>
Em que <span class="math inline">\(w_i\)</span> são os pesos do <em>donor pool</em>.</p>
<p>Em ADH (2010), as restrições são:</p>
<ol style="list-style-type: decimal">
<li><p><span class="math inline">\(\mu = 0\)</span></p></li>
<li><p><span class="math inline">\(\sum_i w_i = 1\)</span></p></li>
<li><p><span class="math inline">\(w_i \geq 0 \text{, } \forall i\)</span></p></li>
</ol>
<p>Restrição 1 signifca que não há diferença de nível. Suposição 2 significa que o contrafactual tem de ser contruído no suporte do <em>donor pool</em>. Suposição 3</p>
<p>A intuição para o cálculo do peso é parecida da regressão linear, em que estamos minimizando a soma da distância. A diferença é que é uma soma diferente.</p>
<p><span class="math display">\[
||\mathbf{X}_{tr} - \mathbf{X}_{co}\mathbf{W}||
\]</span>
Lembrando que vamos incluir a VD defasada em <span class="math inline">\(X\)</span>.</p>
<p>Vamos para o R para ver isso em ação.
Dica: Há vários pacotes, mas o original, synth, é muito complexdo de usar e não recomendamos.
augsynth/tidysynth and synthdid packages (original package is tough to use)</p>
</div>
<div id="implementação-no-r" class="section level2 hasAnchor" number="10.1">
<h2><span class="header-section-number">10.1</span> Implementação no R<a href="synthetic-control.html#implementação-no-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="synthetic-control.html#cb1-1" tabindex="-1"></a><span class="co"># tidysynth</span></span>
<span id="cb1-2"><a href="synthetic-control.html#cb1-2" tabindex="-1"></a><span class="fu">library</span>(tidysynth)</span>
<span id="cb1-3"><a href="synthetic-control.html#cb1-3" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-4"><a href="synthetic-control.html#cb1-4" tabindex="-1"></a><span class="fu">data</span>(smoking)</span>
<span id="cb1-5"><a href="synthetic-control.html#cb1-5" tabindex="-1"></a></span>
<span id="cb1-6"><a href="synthetic-control.html#cb1-6" tabindex="-1"></a>smoking <span class="sc">%&gt;%</span></span>
<span id="cb1-7"><a href="synthetic-control.html#cb1-7" tabindex="-1"></a>  <span class="fu">head</span>() <span class="sc">%&gt;%</span></span>
<span id="cb1-8"><a href="synthetic-control.html#cb1-8" tabindex="-1"></a>  <span class="fu">kable</span>()</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">state</th>
<th align="right">year</th>
<th align="right">cigsale</th>
<th align="right">lnincome</th>
<th align="right">beer</th>
<th align="right">age15to24</th>
<th align="right">retprice</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Rhode Island</td>
<td align="right">1970</td>
<td align="right">123.9</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">0.1831579</td>
<td align="right">39.3</td>
</tr>
<tr class="even">
<td align="left">Tennessee</td>
<td align="right">1970</td>
<td align="right">99.8</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">0.1780438</td>
<td align="right">39.9</td>
</tr>
<tr class="odd">
<td align="left">Indiana</td>
<td align="right">1970</td>
<td align="right">134.6</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">0.1765159</td>
<td align="right">30.6</td>
</tr>
<tr class="even">
<td align="left">Nevada</td>
<td align="right">1970</td>
<td align="right">189.5</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">0.1615542</td>
<td align="right">38.9</td>
</tr>
<tr class="odd">
<td align="left">Louisiana</td>
<td align="right">1970</td>
<td align="right">115.9</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">0.1851852</td>
<td align="right">34.3</td>
</tr>
<tr class="even">
<td align="left">Oklahoma</td>
<td align="right">1970</td>
<td align="right">108.4</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">0.1754592</td>
<td align="right">38.4</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="synthetic-control.html#cb2-1" tabindex="-1"></a>smoking_out <span class="ot">&lt;-</span></span>
<span id="cb2-2"><a href="synthetic-control.html#cb2-2" tabindex="-1"></a>  smoking <span class="sc">%&gt;%</span></span>
<span id="cb2-3"><a href="synthetic-control.html#cb2-3" tabindex="-1"></a>  <span class="co"># initial the synthetic control object</span></span>
<span id="cb2-4"><a href="synthetic-control.html#cb2-4" tabindex="-1"></a>  <span class="fu">synthetic_control</span>(<span class="at">outcome =</span> cigsale, <span class="co"># outcome</span></span>
<span id="cb2-5"><a href="synthetic-control.html#cb2-5" tabindex="-1"></a>                    <span class="at">unit =</span> state, <span class="co"># unit index in the panel data</span></span>
<span id="cb2-6"><a href="synthetic-control.html#cb2-6" tabindex="-1"></a>                    <span class="at">time =</span> year, <span class="co"># time index in the panel data</span></span>
<span id="cb2-7"><a href="synthetic-control.html#cb2-7" tabindex="-1"></a>                    <span class="at">i_unit =</span> <span class="st">&quot;California&quot;</span>, <span class="co"># unit where the intervention occurred</span></span>
<span id="cb2-8"><a href="synthetic-control.html#cb2-8" tabindex="-1"></a>                    <span class="at">i_time =</span> <span class="dv">1988</span>, <span class="co"># time period when the intervention occurred</span></span>
<span id="cb2-9"><a href="synthetic-control.html#cb2-9" tabindex="-1"></a>                    <span class="at">generate_placebos=</span>T <span class="co"># generate placebo synthetic controls (for inference)</span></span>
<span id="cb2-10"><a href="synthetic-control.html#cb2-10" tabindex="-1"></a>                    ) <span class="sc">%&gt;%</span></span>
<span id="cb2-11"><a href="synthetic-control.html#cb2-11" tabindex="-1"></a>  </span>
<span id="cb2-12"><a href="synthetic-control.html#cb2-12" tabindex="-1"></a>  <span class="co"># Generate the aggregate predictors used to fit the weights</span></span>
<span id="cb2-13"><a href="synthetic-control.html#cb2-13" tabindex="-1"></a>  </span>
<span id="cb2-14"><a href="synthetic-control.html#cb2-14" tabindex="-1"></a>  <span class="co"># average log income, retail price of cigarettes, and proportion of the</span></span>
<span id="cb2-15"><a href="synthetic-control.html#cb2-15" tabindex="-1"></a>  <span class="co"># population between 15 and 24 years of age from 1980 - 1988</span></span>
<span id="cb2-16"><a href="synthetic-control.html#cb2-16" tabindex="-1"></a>  <span class="fu">generate_predictor</span>(<span class="at">time_window =</span> <span class="dv">1980</span><span class="sc">:</span><span class="dv">1988</span>,</span>
<span id="cb2-17"><a href="synthetic-control.html#cb2-17" tabindex="-1"></a>                     <span class="at">ln_income =</span> <span class="fu">mean</span>(lnincome, <span class="at">na.rm =</span> T),</span>
<span id="cb2-18"><a href="synthetic-control.html#cb2-18" tabindex="-1"></a>                     <span class="at">ret_price =</span> <span class="fu">mean</span>(retprice, <span class="at">na.rm =</span> T),</span>
<span id="cb2-19"><a href="synthetic-control.html#cb2-19" tabindex="-1"></a>                     <span class="at">youth =</span> <span class="fu">mean</span>(age15to24, <span class="at">na.rm =</span> T)) <span class="sc">%&gt;%</span></span>
<span id="cb2-20"><a href="synthetic-control.html#cb2-20" tabindex="-1"></a>  </span>
<span id="cb2-21"><a href="synthetic-control.html#cb2-21" tabindex="-1"></a>  <span class="co"># average beer consumption in the donor pool from 1984 - 1988</span></span>
<span id="cb2-22"><a href="synthetic-control.html#cb2-22" tabindex="-1"></a>  <span class="fu">generate_predictor</span>(<span class="at">time_window =</span> <span class="dv">1984</span><span class="sc">:</span><span class="dv">1988</span>,</span>
<span id="cb2-23"><a href="synthetic-control.html#cb2-23" tabindex="-1"></a>                     <span class="at">beer_sales =</span> <span class="fu">mean</span>(beer, <span class="at">na.rm =</span> T)) <span class="sc">%&gt;%</span></span>
<span id="cb2-24"><a href="synthetic-control.html#cb2-24" tabindex="-1"></a>  </span>
<span id="cb2-25"><a href="synthetic-control.html#cb2-25" tabindex="-1"></a>  <span class="co"># Lagged cigarette sales </span></span>
<span id="cb2-26"><a href="synthetic-control.html#cb2-26" tabindex="-1"></a>  <span class="fu">generate_predictor</span>(<span class="at">time_window =</span> <span class="dv">1975</span>,</span>
<span id="cb2-27"><a href="synthetic-control.html#cb2-27" tabindex="-1"></a>                     <span class="at">cigsale_1975 =</span> cigsale) <span class="sc">%&gt;%</span></span>
<span id="cb2-28"><a href="synthetic-control.html#cb2-28" tabindex="-1"></a>  <span class="fu">generate_predictor</span>(<span class="at">time_window =</span> <span class="dv">1980</span>,</span>
<span id="cb2-29"><a href="synthetic-control.html#cb2-29" tabindex="-1"></a>                     <span class="at">cigsale_1980 =</span> cigsale) <span class="sc">%&gt;%</span></span>
<span id="cb2-30"><a href="synthetic-control.html#cb2-30" tabindex="-1"></a>  <span class="fu">generate_predictor</span>(<span class="at">time_window =</span> <span class="dv">1988</span>,</span>
<span id="cb2-31"><a href="synthetic-control.html#cb2-31" tabindex="-1"></a>                     <span class="at">cigsale_1988 =</span> cigsale) <span class="sc">%&gt;%</span></span>
<span id="cb2-32"><a href="synthetic-control.html#cb2-32" tabindex="-1"></a>  </span>
<span id="cb2-33"><a href="synthetic-control.html#cb2-33" tabindex="-1"></a>  </span>
<span id="cb2-34"><a href="synthetic-control.html#cb2-34" tabindex="-1"></a>  <span class="co"># Generate the fitted weights for the synthetic control</span></span>
<span id="cb2-35"><a href="synthetic-control.html#cb2-35" tabindex="-1"></a>  <span class="fu">generate_weights</span>(<span class="at">optimization_window =</span> <span class="dv">1970</span><span class="sc">:</span><span class="dv">1988</span>, <span class="co"># time to use in the optimization task</span></span>
<span id="cb2-36"><a href="synthetic-control.html#cb2-36" tabindex="-1"></a>                   <span class="at">margin_ipop =</span> .<span class="dv">02</span>,<span class="at">sigf_ipop =</span> <span class="dv">7</span>,<span class="at">bound_ipop =</span> <span class="dv">6</span> <span class="co"># optimizer options</span></span>
<span id="cb2-37"><a href="synthetic-control.html#cb2-37" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb2-38"><a href="synthetic-control.html#cb2-38" tabindex="-1"></a>  </span>
<span id="cb2-39"><a href="synthetic-control.html#cb2-39" tabindex="-1"></a>  <span class="co"># Generate the synthetic control</span></span>
<span id="cb2-40"><a href="synthetic-control.html#cb2-40" tabindex="-1"></a>  <span class="fu">generate_control</span>()</span>
<span id="cb2-41"><a href="synthetic-control.html#cb2-41" tabindex="-1"></a></span>
<span id="cb2-42"><a href="synthetic-control.html#cb2-42" tabindex="-1"></a><span class="co"># série do observado e controle sintético</span></span>
<span id="cb2-43"><a href="synthetic-control.html#cb2-43" tabindex="-1"></a>smoking_out <span class="sc">%&gt;%</span> <span class="fu">plot_trends</span>(<span class="at">time_window =</span> <span class="dv">1970</span><span class="sc">:</span><span class="dv">2000</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/cigarro_tidysynth-1.png" width="672" /></p>
<p>A quantidade causal de interesse pode ser visualizada do seguinte modo:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="synthetic-control.html#cb3-1" tabindex="-1"></a>smoking_out <span class="sc">%&gt;%</span> <span class="fu">plot_differences</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/cigarro_tidysynth1-1.png" width="672" /></p>
<p>E é possível visulizar os pesos de cada unidade e das variáveis:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="synthetic-control.html#cb4-1" tabindex="-1"></a>smoking_out <span class="sc">%&gt;%</span> <span class="fu">plot_weights</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/cigarro_tidysynth2-1.png" width="672" /></p>
<p>Podemos também olhar o balanceamento entre o observado e o sintético:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="synthetic-control.html#cb5-1" tabindex="-1"></a>smoking_out <span class="sc">%&gt;%</span> <span class="fu">grab_balance_table</span>()</span></code></pre></div>
<pre><code>## # A tibble: 7 × 4
##   variable     California synthetic_California donor_sample
##   &lt;chr&gt;             &lt;dbl&gt;                &lt;dbl&gt;        &lt;dbl&gt;
## 1 ln_income        10.1                  9.85         9.83 
## 2 ret_price        89.4                 89.4         87.3  
## 3 youth             0.174                0.174        0.173
## 4 beer_sales       24.3                 24.2         23.7  
## 5 cigsale_1975    127.                 127.         137.   
## 6 cigsale_1980    120.                 120.         138.   
## 7 cigsale_1988     90.1                 91.4        114.</code></pre>
<p>A Inferência é complicada. O método tradicional é o chamado teste placebo, cuja intuição é a de um teste de permutação, ou seja, a gente diz que um outro estado foi tratado (NY, por exemplo), e roda o modelo de novo e assim por diante para todas as unidades do <em>donor pool</em>. O gráfico abaixo traz isso pronto.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="synthetic-control.html#cb7-1" tabindex="-1"></a>smoking_out <span class="sc">%&gt;%</span> <span class="fu">plot_placebos</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/cigarro_tidysynth3-1.png" width="672" /></p>
</div>
<div id="synthethic-did" class="section level2 hasAnchor" number="10.2">
<h2><span class="header-section-number">10.2</span> Synthethic DiD<a href="synthetic-control.html#synthethic-did" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Synth DiD comebinar controle sintético com DiD, em algo novo. Então, vamos começar revisitando DiD.
Nós vimos que o estimador de DiD é equivalente a uma regressão linear com efeitos fixos de unidade e tempo. Vamos aplicar nosso estimador para os dados da da proposição 99.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="synthetic-control.html#cb8-1" tabindex="-1"></a><span class="fu">library</span>(fixest)</span>
<span id="cb8-2"><a href="synthetic-control.html#cb8-2" tabindex="-1"></a></span>
<span id="cb8-3"><a href="synthetic-control.html#cb8-3" tabindex="-1"></a>smoking_did <span class="ot">&lt;-</span> smoking <span class="sc">%&gt;%</span></span>
<span id="cb8-4"><a href="synthetic-control.html#cb8-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">treatment =</span> <span class="fu">ifelse</span>(state <span class="sc">==</span> <span class="st">&quot;California&quot;</span> <span class="sc">&amp;</span> year <span class="sc">&gt;</span> <span class="dv">1988</span>, <span class="dv">1</span>, <span class="dv">0</span>))</span>
<span id="cb8-5"><a href="synthetic-control.html#cb8-5" tabindex="-1"></a>did <span class="ot">&lt;-</span> <span class="fu">feols</span>(cigsale <span class="sc">~</span> treatment <span class="sc">|</span> state <span class="sc">+</span> year, <span class="at">data =</span> smoking_did)</span>
<span id="cb8-6"><a href="synthetic-control.html#cb8-6" tabindex="-1"></a></span>
<span id="cb8-7"><a href="synthetic-control.html#cb8-7" tabindex="-1"></a><span class="fu">etable</span>(did)</span></code></pre></div>
<pre><code>##                               did
## Dependent Var.:           cigsale
##                                  
## treatment       -27.35*** (2.802)
## Fixed-Effects:  -----------------
## state                         Yes
## year                          Yes
## _______________ _________________
## S.E.: Clustered         by: state
## Observations                1,209
## R2                        0.87764
## Within R2                 0.03267
## ---
## Signif. codes: 0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<p>O problema dessa. estimativa é que a suposição de tendências paralelas na média não é muito crível.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="synthetic-control.html#cb10-1" tabindex="-1"></a>df <span class="ot">&lt;-</span> smoking_did <span class="sc">%&gt;%</span></span>
<span id="cb10-2"><a href="synthetic-control.html#cb10-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">event_time =</span> year <span class="sc">-</span> <span class="dv">1988</span>,</span>
<span id="cb10-3"><a href="synthetic-control.html#cb10-3" tabindex="-1"></a>         <span class="at">id =</span> <span class="fu">as.integer</span>(<span class="fu">as.factor</span>(state))) <span class="sc">%&gt;%</span></span>
<span id="cb10-4"><a href="synthetic-control.html#cb10-4" tabindex="-1"></a>  <span class="fu">group_by</span>(state) <span class="sc">%&gt;%</span></span>
<span id="cb10-5"><a href="synthetic-control.html#cb10-5" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">g =</span> <span class="fu">ifelse</span>(state <span class="sc">==</span> <span class="st">&quot;California&quot;</span> <span class="sc">&amp;</span> year <span class="sc">&gt;=</span> <span class="dv">1988</span>, <span class="dv">1988</span>, <span class="dv">0</span>))</span>
<span id="cb10-6"><a href="synthetic-control.html#cb10-6" tabindex="-1"></a></span>
<span id="cb10-7"><a href="synthetic-control.html#cb10-7" tabindex="-1"></a><span class="co"># Estimação do modelo event study</span></span>
<span id="cb10-8"><a href="synthetic-control.html#cb10-8" tabindex="-1"></a><span class="co"># model_feols &lt;- feols(</span></span>
<span id="cb10-9"><a href="synthetic-control.html#cb10-9" tabindex="-1"></a><span class="co">#   cigsale ~ i(event_time, ref = -1) | unidade + periodo,</span></span>
<span id="cb10-10"><a href="synthetic-control.html#cb10-10" tabindex="-1"></a><span class="co">#   data = df)</span></span>
<span id="cb10-11"><a href="synthetic-control.html#cb10-11" tabindex="-1"></a></span>
<span id="cb10-12"><a href="synthetic-control.html#cb10-12" tabindex="-1"></a><span class="fu">library</span>(did2s)</span>
<span id="cb10-13"><a href="synthetic-control.html#cb10-13" tabindex="-1"></a></span>
<span id="cb10-14"><a href="synthetic-control.html#cb10-14" tabindex="-1"></a>out_es <span class="ot">&lt;-</span> <span class="fu">event_study</span>(</span>
<span id="cb10-15"><a href="synthetic-control.html#cb10-15" tabindex="-1"></a>  <span class="at">data =</span> df,</span>
<span id="cb10-16"><a href="synthetic-control.html#cb10-16" tabindex="-1"></a>  <span class="at">idname =</span> <span class="st">&quot;id&quot;</span>,</span>
<span id="cb10-17"><a href="synthetic-control.html#cb10-17" tabindex="-1"></a>  <span class="at">tname =</span> <span class="st">&quot;year&quot;</span>,</span>
<span id="cb10-18"><a href="synthetic-control.html#cb10-18" tabindex="-1"></a>  <span class="at">gname =</span> <span class="st">&quot;g&quot;</span>,  <span class="co"># coluna que indica o período de tratamento para cada i</span></span>
<span id="cb10-19"><a href="synthetic-control.html#cb10-19" tabindex="-1"></a>  <span class="at">yname =</span> <span class="st">&quot;cigsale&quot;</span>,</span>
<span id="cb10-20"><a href="synthetic-control.html#cb10-20" tabindex="-1"></a>  <span class="at">estimator =</span> <span class="st">&quot;all&quot;</span></span>
<span id="cb10-21"><a href="synthetic-control.html#cb10-21" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>## Error in max(t) : invalid &#39;type&#39; (list) of argument</code></pre>
<pre><code>## Error in fixest::feols(sunab_formla, data = data) : 
##   Evaluation of the right-hand-side of the formula raises an error: 
##   in i(factor_var = period, f2 = cohort, f_n...:
##  Argument `factor_var` must be a vector. Problem: it is of length 0, while
##  it should have a positive length.</code></pre>
<pre><code>## Error in create_Atheta_list_for_event_study(eventTime = eventTime, g_list = g_list,  : 
##   There are no comparison cohorts for the given eventTime</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="synthetic-control.html#cb14-1" tabindex="-1"></a><span class="fu">plot_event_study</span>(out_es)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/did1-1.png" width="672" /></p>
<p>E se a gente combinasse controle sintético com DiD, isto é, usasse peso para criar tendências paralelas, e então aplicasse DiD?</p>
<p>Arkhangelsky et al (2021) mostraram que podemos reescrever o estimador de controle sintético como:</p>
<p><span class="math display">\[
(\hat{\mu}, \hat{\gamma}, \hat{\tau}) = \text{arg}\,\max\limits_{\mu, \gamma, \tau}\ \sum_i \sum_t (y_{it}) - \mu - \gamma_t -D_{it}\tau)^2\hat{w}_i
\]</span>
Já o DiD é dado por:
<span class="math display">\[
(\hat{\mu}, \hat{\alpha}, \hat{\gamma}, \hat{\tau}) = \text{arg}\,\max\limits_{\mu, \gamma, \tau}\ \sum_i \sum_t (y_{it}) - \mu - \alpha_i - \gamma_t -D_{it}\tau)^2
\]</span></p>
<p>A a proposta dos autores, o Synthetic DiD é dada pelo estimador:
<span class="math display">\[
(\hat{\mu}, \hat{\alpha}, \hat{\gamma}, \hat{\tau}) = \text{arg}\,\max\limits_{\mu, \gamma, \tau}\ \sum_i \sum_t (y_{it}) - \mu - \alpha_i - \gamma_t -D_{it}\tau)^2\hat{w}_i\hat{\lambda}_t
\]</span>
Como antes, <span class="math inline">\(\hat{w}_\)</span> são pesos para cada unidade que procuram balancear a tendência pré-exposição ao tratamento nos grupos controle e de tratamento (no exemplo, demais estados e Califórnia). E introduzem pesos <span class="math inline">\(\hat{\lambda}_t\)</span> para os períodos de tempo <span class="math inline">\(t\)</span> que procuram balancear os períodos pré-exposição com os períodos pós-exposição.</p>
<p>Contrast o SDiD com o DiD, e a didferença são os dois pesos. Basicamente, estamos estimando regressão linear local ao colocar mais peso em unidades que são, em média, mais similares aos tratados no período pré-exposição e enfatiza períodos mais similares ao algo (período tratado). Em outras palavras, “Time weights are designed so that the average post-treatment outcome for each of the control units differs by a constant from the weighted average of the pre-treatment outcomes for the same control units”(p. 4)</p>
<p>Esse estimador relaxa a suposição de tendências paralelas. Agora, precisamos que um fator latente seja paralelo.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="synthetic-control.html#cb15-1" tabindex="-1"></a><span class="co"># devtools::install_github(&quot;synth-inference/synthdid&quot;)</span></span>
<span id="cb15-2"><a href="synthetic-control.html#cb15-2" tabindex="-1"></a><span class="fu">library</span>(synthdid)</span>
<span id="cb15-3"><a href="synthetic-control.html#cb15-3" tabindex="-1"></a></span>
<span id="cb15-4"><a href="synthetic-control.html#cb15-4" tabindex="-1"></a>estimators <span class="ot">=</span> <span class="fu">list</span>(<span class="at">did=</span>did_estimate,</span>
<span id="cb15-5"><a href="synthetic-control.html#cb15-5" tabindex="-1"></a>                  <span class="at">sc=</span>sc_estimate,</span>
<span id="cb15-6"><a href="synthetic-control.html#cb15-6" tabindex="-1"></a>                  <span class="at">sdid=</span>synthdid_estimate)</span>
<span id="cb15-7"><a href="synthetic-control.html#cb15-7" tabindex="-1"></a><span class="fu">str</span>(synthdid_estimate)</span></code></pre></div>
<pre><code>## function (Y, N0, T0, X = array(dim = c(dim(Y), 0)), noise.level = sd(apply(Y[1:N0, 
##     1:T0], 1, diff)), eta.omega = ((nrow(Y) - N0) * (ncol(Y) - T0))^(1/4), 
##     eta.lambda = 1e-06, zeta.omega = eta.omega * noise.level, zeta.lambda = eta.lambda * 
##         noise.level, omega.intercept = TRUE, lambda.intercept = TRUE, weights = list(omega = NULL, 
##         lambda = NULL), update.omega = is.null(weights$omega), update.lambda = is.null(weights$lambda), 
##     min.decrease = 1e-05 * noise.level, max.iter = 10000, sparsify = sparsify_function, 
##     max.iter.pre.sparsify = 100)</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="synthetic-control.html#cb17-1" tabindex="-1"></a><span class="co"># converte para matriz</span></span>
<span id="cb17-2"><a href="synthetic-control.html#cb17-2" tabindex="-1"></a>df_sdid <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb17-3"><a href="synthetic-control.html#cb17-3" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(state, year, cigsale, treatment) <span class="sc">%&gt;%</span></span>
<span id="cb17-4"><a href="synthetic-control.html#cb17-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">treatment =</span> <span class="fu">as.integer</span>(treatment),</span>
<span id="cb17-5"><a href="synthetic-control.html#cb17-5" tabindex="-1"></a>         <span class="at">year =</span> <span class="fu">as.integer</span>(year),</span>
<span id="cb17-6"><a href="synthetic-control.html#cb17-6" tabindex="-1"></a>         <span class="at">state =</span> <span class="fu">as.factor</span>(state)) <span class="sc">%&gt;%</span></span>
<span id="cb17-7"><a href="synthetic-control.html#cb17-7" tabindex="-1"></a>  <span class="fu">as.data.frame</span>() <span class="co"># aparentemente panel.matrices não funciona com tibble</span></span>
<span id="cb17-8"><a href="synthetic-control.html#cb17-8" tabindex="-1"></a></span>
<span id="cb17-9"><a href="synthetic-control.html#cb17-9" tabindex="-1"></a>setup <span class="ot">&lt;-</span> <span class="fu">panel.matrices</span>(df_sdid)</span>
<span id="cb17-10"><a href="synthetic-control.html#cb17-10" tabindex="-1"></a><span class="fu">head</span>(setup) <span class="sc">%&gt;%</span></span>
<span id="cb17-11"><a href="synthetic-control.html#cb17-11" tabindex="-1"></a>  <span class="fu">kable</span>()</span></code></pre></div>
<table class="kable_wrapper">
<tbody>
<tr>
<td>
<table style="width:100%;">
<colgroup>
<col width="7%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">1970</th>
<th align="right">1971</th>
<th align="right">1972</th>
<th align="right">1973</th>
<th align="right">1974</th>
<th align="right">1975</th>
<th align="right">1976</th>
<th align="right">1977</th>
<th align="right">1978</th>
<th align="right">1979</th>
<th align="right">1980</th>
<th align="right">1981</th>
<th align="right">1982</th>
<th align="right">1983</th>
<th align="right">1984</th>
<th align="right">1985</th>
<th align="right">1986</th>
<th align="right">1987</th>
<th align="right">1988</th>
<th align="right">1989</th>
<th align="right">1990</th>
<th align="right">1991</th>
<th align="right">1992</th>
<th align="right">1993</th>
<th align="right">1994</th>
<th align="right">1995</th>
<th align="right">1996</th>
<th align="right">1997</th>
<th align="right">1998</th>
<th align="right">1999</th>
<th align="right">2000</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Alabama</td>
<td align="right">89.8</td>
<td align="right">95.4</td>
<td align="right">101.1</td>
<td align="right">102.9</td>
<td align="right">108.2</td>
<td align="right">111.7</td>
<td align="right">116.2</td>
<td align="right">117.1</td>
<td align="right">123.0</td>
<td align="right">121.4</td>
<td align="right">123.2</td>
<td align="right">119.6</td>
<td align="right">119.1</td>
<td align="right">116.3</td>
<td align="right">113.0</td>
<td align="right">114.5</td>
<td align="right">116.3</td>
<td align="right">114.0</td>
<td align="right">112.1</td>
<td align="right">105.6</td>
<td align="right">108.6</td>
<td align="right">107.9</td>
<td align="right">109.1</td>
<td align="right">108.5</td>
<td align="right">107.1</td>
<td align="right">102.6</td>
<td align="right">101.4</td>
<td align="right">104.9</td>
<td align="right">106.2</td>
<td align="right">100.7</td>
<td align="right">96.2</td>
</tr>
<tr class="even">
<td align="left">Arkansas</td>
<td align="right">100.3</td>
<td align="right">104.1</td>
<td align="right">103.9</td>
<td align="right">108.0</td>
<td align="right">109.7</td>
<td align="right">114.8</td>
<td align="right">119.1</td>
<td align="right">122.6</td>
<td align="right">127.3</td>
<td align="right">126.5</td>
<td align="right">131.8</td>
<td align="right">128.7</td>
<td align="right">127.4</td>
<td align="right">128.0</td>
<td align="right">123.1</td>
<td align="right">125.8</td>
<td align="right">126.0</td>
<td align="right">122.3</td>
<td align="right">121.5</td>
<td align="right">118.3</td>
<td align="right">113.1</td>
<td align="right">116.8</td>
<td align="right">126.0</td>
<td align="right">113.8</td>
<td align="right">108.8</td>
<td align="right">113.0</td>
<td align="right">110.7</td>
<td align="right">108.7</td>
<td align="right">109.5</td>
<td align="right">104.8</td>
<td align="right">99.4</td>
</tr>
<tr class="odd">
<td align="left">Colorado</td>
<td align="right">124.8</td>
<td align="right">125.5</td>
<td align="right">134.3</td>
<td align="right">137.9</td>
<td align="right">132.8</td>
<td align="right">131.0</td>
<td align="right">134.2</td>
<td align="right">132.0</td>
<td align="right">129.2</td>
<td align="right">131.5</td>
<td align="right">131.0</td>
<td align="right">133.8</td>
<td align="right">130.5</td>
<td align="right">125.3</td>
<td align="right">119.7</td>
<td align="right">112.4</td>
<td align="right">109.9</td>
<td align="right">102.4</td>
<td align="right">94.6</td>
<td align="right">88.8</td>
<td align="right">87.4</td>
<td align="right">90.2</td>
<td align="right">88.3</td>
<td align="right">88.6</td>
<td align="right">89.1</td>
<td align="right">85.4</td>
<td align="right">83.1</td>
<td align="right">81.3</td>
<td align="right">81.2</td>
<td align="right">79.6</td>
<td align="right">73.0</td>
</tr>
<tr class="even">
<td align="left">Connecticut</td>
<td align="right">120.0</td>
<td align="right">117.6</td>
<td align="right">110.8</td>
<td align="right">109.3</td>
<td align="right">112.4</td>
<td align="right">110.2</td>
<td align="right">113.4</td>
<td align="right">117.3</td>
<td align="right">117.5</td>
<td align="right">117.4</td>
<td align="right">118.0</td>
<td align="right">116.4</td>
<td align="right">114.7</td>
<td align="right">114.1</td>
<td align="right">112.5</td>
<td align="right">111.0</td>
<td align="right">108.5</td>
<td align="right">109.0</td>
<td align="right">104.8</td>
<td align="right">100.6</td>
<td align="right">91.5</td>
<td align="right">86.7</td>
<td align="right">83.5</td>
<td align="right">79.1</td>
<td align="right">76.6</td>
<td align="right">79.3</td>
<td align="right">76.0</td>
<td align="right">75.9</td>
<td align="right">75.5</td>
<td align="right">73.4</td>
<td align="right">71.4</td>
</tr>
<tr class="odd">
<td align="left">Delaware</td>
<td align="right">155.0</td>
<td align="right">161.1</td>
<td align="right">156.3</td>
<td align="right">154.7</td>
<td align="right">151.3</td>
<td align="right">147.6</td>
<td align="right">153.0</td>
<td align="right">153.3</td>
<td align="right">155.5</td>
<td align="right">150.2</td>
<td align="right">150.5</td>
<td align="right">152.6</td>
<td align="right">154.1</td>
<td align="right">149.6</td>
<td align="right">144.0</td>
<td align="right">144.5</td>
<td align="right">142.4</td>
<td align="right">141.0</td>
<td align="right">137.1</td>
<td align="right">131.7</td>
<td align="right">127.2</td>
<td align="right">118.8</td>
<td align="right">120.0</td>
<td align="right">123.8</td>
<td align="right">126.1</td>
<td align="right">127.2</td>
<td align="right">128.3</td>
<td align="right">124.1</td>
<td align="right">132.8</td>
<td align="right">139.5</td>
<td align="right">140.7</td>
</tr>
<tr class="even">
<td align="left">Georgia</td>
<td align="right">109.9</td>
<td align="right">115.7</td>
<td align="right">117.0</td>
<td align="right">119.8</td>
<td align="right">123.7</td>
<td align="right">122.9</td>
<td align="right">125.9</td>
<td align="right">127.9</td>
<td align="right">130.6</td>
<td align="right">131.0</td>
<td align="right">134.0</td>
<td align="right">131.7</td>
<td align="right">131.2</td>
<td align="right">128.6</td>
<td align="right">126.3</td>
<td align="right">128.8</td>
<td align="right">129.0</td>
<td align="right">129.3</td>
<td align="right">124.1</td>
<td align="right">117.1</td>
<td align="right">113.8</td>
<td align="right">109.6</td>
<td align="right">109.2</td>
<td align="right">109.2</td>
<td align="right">107.8</td>
<td align="right">100.3</td>
<td align="right">102.7</td>
<td align="right">100.6</td>
<td align="right">100.5</td>
<td align="right">97.1</td>
<td align="right">88.4</td>
</tr>
<tr class="odd">
<td align="left">Idaho</td>
<td align="right">102.4</td>
<td align="right">108.5</td>
<td align="right">126.1</td>
<td align="right">121.8</td>
<td align="right">125.6</td>
<td align="right">123.3</td>
<td align="right">125.1</td>
<td align="right">125.0</td>
<td align="right">122.8</td>
<td align="right">117.5</td>
<td align="right">115.2</td>
<td align="right">114.1</td>
<td align="right">111.5</td>
<td align="right">111.3</td>
<td align="right">103.6</td>
<td align="right">100.7</td>
<td align="right">96.7</td>
<td align="right">95.0</td>
<td align="right">84.5</td>
<td align="right">78.4</td>
<td align="right">90.1</td>
<td align="right">85.4</td>
<td align="right">85.1</td>
<td align="right">86.7</td>
<td align="right">93.0</td>
<td align="right">78.2</td>
<td align="right">73.6</td>
<td align="right">75.0</td>
<td align="right">78.9</td>
<td align="right">75.1</td>
<td align="right">66.9</td>
</tr>
<tr class="even">
<td align="left">Illinois</td>
<td align="right">124.8</td>
<td align="right">125.6</td>
<td align="right">126.6</td>
<td align="right">124.4</td>
<td align="right">131.9</td>
<td align="right">131.8</td>
<td align="right">134.4</td>
<td align="right">134.0</td>
<td align="right">136.7</td>
<td align="right">135.3</td>
<td align="right">135.2</td>
<td align="right">133.0</td>
<td align="right">130.7</td>
<td align="right">127.9</td>
<td align="right">124.0</td>
<td align="right">121.6</td>
<td align="right">118.2</td>
<td align="right">109.5</td>
<td align="right">107.6</td>
<td align="right">104.6</td>
<td align="right">94.1</td>
<td align="right">96.1</td>
<td align="right">94.8</td>
<td align="right">94.6</td>
<td align="right">85.7</td>
<td align="right">84.3</td>
<td align="right">81.8</td>
<td align="right">79.6</td>
<td align="right">80.3</td>
<td align="right">72.2</td>
<td align="right">70.0</td>
</tr>
<tr class="odd">
<td align="left">Indiana</td>
<td align="right">134.6</td>
<td align="right">139.3</td>
<td align="right">149.2</td>
<td align="right">156.0</td>
<td align="right">159.6</td>
<td align="right">162.4</td>
<td align="right">166.6</td>
<td align="right">173.0</td>
<td align="right">150.9</td>
<td align="right">148.9</td>
<td align="right">146.9</td>
<td align="right">148.5</td>
<td align="right">147.7</td>
<td align="right">143.0</td>
<td align="right">137.8</td>
<td align="right">135.3</td>
<td align="right">137.6</td>
<td align="right">134.0</td>
<td align="right">134.0</td>
<td align="right">132.5</td>
<td align="right">128.3</td>
<td align="right">127.2</td>
<td align="right">128.2</td>
<td align="right">126.8</td>
<td align="right">128.2</td>
<td align="right">135.4</td>
<td align="right">135.1</td>
<td align="right">135.3</td>
<td align="right">135.9</td>
<td align="right">133.3</td>
<td align="right">125.5</td>
</tr>
<tr class="even">
<td align="left">Iowa</td>
<td align="right">108.5</td>
<td align="right">108.4</td>
<td align="right">109.4</td>
<td align="right">110.6</td>
<td align="right">116.1</td>
<td align="right">120.5</td>
<td align="right">124.4</td>
<td align="right">125.5</td>
<td align="right">127.1</td>
<td align="right">124.2</td>
<td align="right">124.6</td>
<td align="right">132.9</td>
<td align="right">116.2</td>
<td align="right">115.6</td>
<td align="right">111.2</td>
<td align="right">109.4</td>
<td align="right">104.1</td>
<td align="right">101.1</td>
<td align="right">100.2</td>
<td align="right">94.4</td>
<td align="right">95.4</td>
<td align="right">97.1</td>
<td align="right">95.2</td>
<td align="right">92.5</td>
<td align="right">93.4</td>
<td align="right">93.0</td>
<td align="right">94.0</td>
<td align="right">93.9</td>
<td align="right">94.0</td>
<td align="right">91.7</td>
<td align="right">88.9</td>
</tr>
<tr class="odd">
<td align="left">Kansas</td>
<td align="right">114.0</td>
<td align="right">102.8</td>
<td align="right">111.0</td>
<td align="right">115.2</td>
<td align="right">118.6</td>
<td align="right">123.4</td>
<td align="right">127.7</td>
<td align="right">127.9</td>
<td align="right">127.1</td>
<td align="right">126.4</td>
<td align="right">127.1</td>
<td align="right">132.0</td>
<td align="right">130.9</td>
<td align="right">127.6</td>
<td align="right">121.7</td>
<td align="right">115.7</td>
<td align="right">109.4</td>
<td align="right">105.2</td>
<td align="right">103.2</td>
<td align="right">96.5</td>
<td align="right">94.3</td>
<td align="right">91.8</td>
<td align="right">90.0</td>
<td align="right">89.9</td>
<td align="right">89.1</td>
<td align="right">90.1</td>
<td align="right">88.7</td>
<td align="right">89.2</td>
<td align="right">87.6</td>
<td align="right">83.3</td>
<td align="right">79.8</td>
</tr>
<tr class="even">
<td align="left">Kentucky</td>
<td align="right">155.8</td>
<td align="right">163.5</td>
<td align="right">179.4</td>
<td align="right">201.9</td>
<td align="right">212.4</td>
<td align="right">223.0</td>
<td align="right">230.9</td>
<td align="right">229.4</td>
<td align="right">224.7</td>
<td align="right">214.9</td>
<td align="right">215.3</td>
<td align="right">209.7</td>
<td align="right">210.6</td>
<td align="right">201.1</td>
<td align="right">183.2</td>
<td align="right">182.4</td>
<td align="right">179.8</td>
<td align="right">171.2</td>
<td align="right">173.2</td>
<td align="right">171.6</td>
<td align="right">182.5</td>
<td align="right">170.4</td>
<td align="right">167.6</td>
<td align="right">167.6</td>
<td align="right">170.1</td>
<td align="right">175.3</td>
<td align="right">179.0</td>
<td align="right">186.8</td>
<td align="right">171.3</td>
<td align="right">165.3</td>
<td align="right">156.2</td>
</tr>
<tr class="odd">
<td align="left">Louisiana</td>
<td align="right">115.9</td>
<td align="right">119.8</td>
<td align="right">125.3</td>
<td align="right">126.7</td>
<td align="right">129.9</td>
<td align="right">133.6</td>
<td align="right">139.6</td>
<td align="right">140.0</td>
<td align="right">142.7</td>
<td align="right">140.1</td>
<td align="right">143.8</td>
<td align="right">144.0</td>
<td align="right">143.9</td>
<td align="right">133.7</td>
<td align="right">128.9</td>
<td align="right">125.0</td>
<td align="right">121.2</td>
<td align="right">116.5</td>
<td align="right">110.9</td>
<td align="right">103.6</td>
<td align="right">101.5</td>
<td align="right">107.2</td>
<td align="right">108.5</td>
<td align="right">106.2</td>
<td align="right">105.3</td>
<td align="right">105.7</td>
<td align="right">106.8</td>
<td align="right">105.3</td>
<td align="right">103.2</td>
<td align="right">101.0</td>
<td align="right">104.3</td>
</tr>
<tr class="even">
<td align="left">Maine</td>
<td align="right">128.5</td>
<td align="right">133.2</td>
<td align="right">136.5</td>
<td align="right">138.0</td>
<td align="right">142.1</td>
<td align="right">140.7</td>
<td align="right">144.9</td>
<td align="right">145.6</td>
<td align="right">143.9</td>
<td align="right">138.5</td>
<td align="right">141.2</td>
<td align="right">138.9</td>
<td align="right">139.5</td>
<td align="right">135.4</td>
<td align="right">135.5</td>
<td align="right">127.9</td>
<td align="right">119.0</td>
<td align="right">125.0</td>
<td align="right">125.0</td>
<td align="right">122.4</td>
<td align="right">117.5</td>
<td align="right">116.1</td>
<td align="right">114.5</td>
<td align="right">108.5</td>
<td align="right">101.6</td>
<td align="right">102.3</td>
<td align="right">100.0</td>
<td align="right">101.1</td>
<td align="right">94.5</td>
<td align="right">85.5</td>
<td align="right">82.9</td>
</tr>
<tr class="odd">
<td align="left">Minnesota</td>
<td align="right">104.3</td>
<td align="right">116.4</td>
<td align="right">96.8</td>
<td align="right">106.8</td>
<td align="right">110.6</td>
<td align="right">111.5</td>
<td align="right">116.7</td>
<td align="right">117.2</td>
<td align="right">118.9</td>
<td align="right">118.3</td>
<td align="right">117.7</td>
<td align="right">120.8</td>
<td align="right">119.4</td>
<td align="right">113.2</td>
<td align="right">110.8</td>
<td align="right">113.0</td>
<td align="right">104.3</td>
<td align="right">108.8</td>
<td align="right">94.1</td>
<td align="right">92.3</td>
<td align="right">90.7</td>
<td align="right">86.2</td>
<td align="right">83.8</td>
<td align="right">81.6</td>
<td align="right">83.4</td>
<td align="right">84.1</td>
<td align="right">81.7</td>
<td align="right">84.1</td>
<td align="right">83.2</td>
<td align="right">80.7</td>
<td align="right">76.0</td>
</tr>
<tr class="even">
<td align="left">Mississippi</td>
<td align="right">93.4</td>
<td align="right">105.4</td>
<td align="right">112.1</td>
<td align="right">115.0</td>
<td align="right">117.1</td>
<td align="right">116.8</td>
<td align="right">120.9</td>
<td align="right">122.1</td>
<td align="right">124.9</td>
<td align="right">123.9</td>
<td align="right">127.0</td>
<td align="right">125.3</td>
<td align="right">125.8</td>
<td align="right">122.3</td>
<td align="right">116.4</td>
<td align="right">115.3</td>
<td align="right">113.2</td>
<td align="right">110.0</td>
<td align="right">109.0</td>
<td align="right">108.3</td>
<td align="right">101.8</td>
<td align="right">105.6</td>
<td align="right">103.9</td>
<td align="right">105.4</td>
<td align="right">106.0</td>
<td align="right">107.5</td>
<td align="right">106.9</td>
<td align="right">106.3</td>
<td align="right">107.0</td>
<td align="right">103.9</td>
<td align="right">97.2</td>
</tr>
<tr class="odd">
<td align="left">Missouri</td>
<td align="right">121.3</td>
<td align="right">127.6</td>
<td align="right">130.0</td>
<td align="right">132.1</td>
<td align="right">135.4</td>
<td align="right">135.6</td>
<td align="right">139.5</td>
<td align="right">140.8</td>
<td align="right">141.8</td>
<td align="right">140.2</td>
<td align="right">142.1</td>
<td align="right">140.5</td>
<td align="right">139.7</td>
<td align="right">134.1</td>
<td align="right">130.0</td>
<td align="right">129.2</td>
<td align="right">128.8</td>
<td align="right">128.7</td>
<td align="right">127.4</td>
<td align="right">122.8</td>
<td align="right">119.1</td>
<td align="right">119.9</td>
<td align="right">122.3</td>
<td align="right">121.6</td>
<td align="right">119.4</td>
<td align="right">124.0</td>
<td align="right">124.1</td>
<td align="right">120.6</td>
<td align="right">120.1</td>
<td align="right">118.0</td>
<td align="right">113.8</td>
</tr>
<tr class="even">
<td align="left">Montana</td>
<td align="right">111.2</td>
<td align="right">115.6</td>
<td align="right">122.2</td>
<td align="right">119.9</td>
<td align="right">121.9</td>
<td align="right">123.7</td>
<td align="right">124.9</td>
<td align="right">127.0</td>
<td align="right">127.2</td>
<td align="right">120.3</td>
<td align="right">122.0</td>
<td align="right">121.1</td>
<td align="right">122.4</td>
<td align="right">113.7</td>
<td align="right">110.1</td>
<td align="right">103.6</td>
<td align="right">97.8</td>
<td align="right">91.7</td>
<td align="right">87.1</td>
<td align="right">86.2</td>
<td align="right">84.7</td>
<td align="right">82.9</td>
<td align="right">86.6</td>
<td align="right">86.0</td>
<td align="right">88.2</td>
<td align="right">90.5</td>
<td align="right">87.3</td>
<td align="right">88.9</td>
<td align="right">89.1</td>
<td align="right">82.6</td>
<td align="right">75.5</td>
</tr>
<tr class="odd">
<td align="left">Nebraska</td>
<td align="right">108.1</td>
<td align="right">108.6</td>
<td align="right">104.9</td>
<td align="right">106.6</td>
<td align="right">110.5</td>
<td align="right">114.1</td>
<td align="right">118.1</td>
<td align="right">117.7</td>
<td align="right">117.4</td>
<td align="right">116.1</td>
<td align="right">116.3</td>
<td align="right">117.0</td>
<td align="right">117.1</td>
<td align="right">110.8</td>
<td align="right">107.7</td>
<td align="right">105.1</td>
<td align="right">103.1</td>
<td align="right">101.3</td>
<td align="right">92.9</td>
<td align="right">93.8</td>
<td align="right">89.9</td>
<td align="right">92.4</td>
<td align="right">90.6</td>
<td align="right">91.1</td>
<td align="right">85.9</td>
<td align="right">88.5</td>
<td align="right">86.2</td>
<td align="right">85.5</td>
<td align="right">83.1</td>
<td align="right">86.6</td>
<td align="right">77.6</td>
</tr>
<tr class="even">
<td align="left">Nevada</td>
<td align="right">189.5</td>
<td align="right">190.5</td>
<td align="right">198.6</td>
<td align="right">201.5</td>
<td align="right">204.7</td>
<td align="right">205.2</td>
<td align="right">201.4</td>
<td align="right">190.8</td>
<td align="right">187.0</td>
<td align="right">183.3</td>
<td align="right">177.7</td>
<td align="right">171.9</td>
<td align="right">165.1</td>
<td align="right">159.2</td>
<td align="right">136.6</td>
<td align="right">146.7</td>
<td align="right">142.6</td>
<td align="right">147.7</td>
<td align="right">141.9</td>
<td align="right">137.9</td>
<td align="right">137.3</td>
<td align="right">115.5</td>
<td align="right">110.0</td>
<td align="right">108.1</td>
<td align="right">105.2</td>
<td align="right">100.9</td>
<td align="right">99.0</td>
<td align="right">95.6</td>
<td align="right">102.4</td>
<td align="right">103.9</td>
<td align="right">93.2</td>
</tr>
<tr class="odd">
<td align="left">New Hampshire</td>
<td align="right">265.7</td>
<td align="right">278.0</td>
<td align="right">296.2</td>
<td align="right">279.0</td>
<td align="right">269.8</td>
<td align="right">269.1</td>
<td align="right">290.5</td>
<td align="right">278.8</td>
<td align="right">269.6</td>
<td align="right">254.6</td>
<td align="right">247.8</td>
<td align="right">245.4</td>
<td align="right">239.8</td>
<td align="right">232.9</td>
<td align="right">215.1</td>
<td align="right">201.1</td>
<td align="right">195.9</td>
<td align="right">195.1</td>
<td align="right">180.4</td>
<td align="right">172.9</td>
<td align="right">152.4</td>
<td align="right">144.8</td>
<td align="right">143.7</td>
<td align="right">148.9</td>
<td align="right">153.8</td>
<td align="right">158.5</td>
<td align="right">158.0</td>
<td align="right">174.4</td>
<td align="right">173.8</td>
<td align="right">171.7</td>
<td align="right">147.3</td>
</tr>
<tr class="even">
<td align="left">New Mexico</td>
<td align="right">90.0</td>
<td align="right">92.6</td>
<td align="right">99.3</td>
<td align="right">98.9</td>
<td align="right">100.3</td>
<td align="right">103.1</td>
<td align="right">102.4</td>
<td align="right">102.4</td>
<td align="right">103.1</td>
<td align="right">101.0</td>
<td align="right">102.7</td>
<td align="right">103.0</td>
<td align="right">97.5</td>
<td align="right">96.3</td>
<td align="right">88.9</td>
<td align="right">88.0</td>
<td align="right">88.2</td>
<td align="right">82.3</td>
<td align="right">77.7</td>
<td align="right">74.4</td>
<td align="right">70.8</td>
<td align="right">69.9</td>
<td align="right">71.4</td>
<td align="right">69.0</td>
<td align="right">68.2</td>
<td align="right">67.0</td>
<td align="right">65.7</td>
<td align="right">61.8</td>
<td align="right">62.6</td>
<td align="right">59.7</td>
<td align="right">53.8</td>
</tr>
<tr class="odd">
<td align="left">North Carolina</td>
<td align="right">172.4</td>
<td align="right">187.6</td>
<td align="right">214.1</td>
<td align="right">226.5</td>
<td align="right">227.3</td>
<td align="right">226.0</td>
<td align="right">230.2</td>
<td align="right">217.0</td>
<td align="right">205.5</td>
<td align="right">197.3</td>
<td align="right">187.8</td>
<td align="right">179.3</td>
<td align="right">179.0</td>
<td align="right">169.8</td>
<td align="right">160.6</td>
<td align="right">156.3</td>
<td align="right">154.4</td>
<td align="right">150.5</td>
<td align="right">146.0</td>
<td align="right">139.3</td>
<td align="right">133.7</td>
<td align="right">132.7</td>
<td align="right">128.9</td>
<td align="right">129.7</td>
<td align="right">112.7</td>
<td align="right">124.9</td>
<td align="right">129.7</td>
<td align="right">125.6</td>
<td align="right">126.0</td>
<td align="right">113.1</td>
<td align="right">109.0</td>
</tr>
<tr class="even">
<td align="left">North Dakota</td>
<td align="right">93.8</td>
<td align="right">98.5</td>
<td align="right">103.8</td>
<td align="right">108.7</td>
<td align="right">110.5</td>
<td align="right">117.9</td>
<td align="right">125.4</td>
<td align="right">122.2</td>
<td align="right">121.9</td>
<td align="right">121.3</td>
<td align="right">123.7</td>
<td align="right">125.7</td>
<td align="right">126.8</td>
<td align="right">119.6</td>
<td align="right">109.4</td>
<td align="right">103.2</td>
<td align="right">99.8</td>
<td align="right">92.3</td>
<td align="right">87.1</td>
<td align="right">84.1</td>
<td align="right">77.1</td>
<td align="right">85.2</td>
<td align="right">74.3</td>
<td align="right">83.0</td>
<td align="right">81.0</td>
<td align="right">80.6</td>
<td align="right">80.8</td>
<td align="right">77.5</td>
<td align="right">79.1</td>
<td align="right">74.7</td>
<td align="right">72.5</td>
</tr>
<tr class="odd">
<td align="left">Ohio</td>
<td align="right">121.6</td>
<td align="right">124.6</td>
<td align="right">124.4</td>
<td align="right">120.5</td>
<td align="right">122.1</td>
<td align="right">122.5</td>
<td align="right">124.6</td>
<td align="right">127.3</td>
<td align="right">131.3</td>
<td align="right">130.9</td>
<td align="right">133.5</td>
<td align="right">132.8</td>
<td align="right">134.0</td>
<td align="right">130.0</td>
<td align="right">127.1</td>
<td align="right">126.7</td>
<td align="right">126.3</td>
<td align="right">124.6</td>
<td align="right">122.4</td>
<td align="right">118.6</td>
<td align="right">115.5</td>
<td align="right">113.2</td>
<td align="right">112.3</td>
<td align="right">108.9</td>
<td align="right">108.6</td>
<td align="right">111.7</td>
<td align="right">107.6</td>
<td align="right">108.6</td>
<td align="right">106.4</td>
<td align="right">104.0</td>
<td align="right">99.9</td>
</tr>
<tr class="even">
<td align="left">Oklahoma</td>
<td align="right">108.4</td>
<td align="right">115.4</td>
<td align="right">121.7</td>
<td align="right">124.1</td>
<td align="right">130.5</td>
<td align="right">132.9</td>
<td align="right">138.6</td>
<td align="right">140.4</td>
<td align="right">143.6</td>
<td align="right">141.6</td>
<td align="right">141.6</td>
<td align="right">143.7</td>
<td align="right">147.0</td>
<td align="right">140.0</td>
<td align="right">128.1</td>
<td align="right">124.2</td>
<td align="right">119.9</td>
<td align="right">113.1</td>
<td align="right">103.6</td>
<td align="right">97.5</td>
<td align="right">88.4</td>
<td align="right">87.8</td>
<td align="right">86.3</td>
<td align="right">86.2</td>
<td align="right">104.8</td>
<td align="right">109.5</td>
<td align="right">110.8</td>
<td align="right">111.8</td>
<td align="right">112.2</td>
<td align="right">111.4</td>
<td align="right">108.9</td>
</tr>
<tr class="odd">
<td align="left">Pennsylvania</td>
<td align="right">107.3</td>
<td align="right">106.3</td>
<td align="right">109.0</td>
<td align="right">110.7</td>
<td align="right">114.2</td>
<td align="right">114.6</td>
<td align="right">118.8</td>
<td align="right">120.1</td>
<td align="right">122.3</td>
<td align="right">122.6</td>
<td align="right">124.0</td>
<td align="right">125.2</td>
<td align="right">123.3</td>
<td align="right">125.3</td>
<td align="right">115.3</td>
<td align="right">115.8</td>
<td align="right">113.9</td>
<td align="right">110.6</td>
<td align="right">107.6</td>
<td align="right">107.1</td>
<td align="right">101.3</td>
<td align="right">102.5</td>
<td align="right">96.2</td>
<td align="right">94.7</td>
<td align="right">95.4</td>
<td align="right">95.4</td>
<td align="right">93.3</td>
<td align="right">92.9</td>
<td align="right">92.1</td>
<td align="right">91.1</td>
<td align="right">87.9</td>
</tr>
<tr class="even">
<td align="left">Rhode Island</td>
<td align="right">123.9</td>
<td align="right">123.2</td>
<td align="right">134.4</td>
<td align="right">142.0</td>
<td align="right">146.1</td>
<td align="right">154.7</td>
<td align="right">150.2</td>
<td align="right">148.8</td>
<td align="right">146.8</td>
<td align="right">145.8</td>
<td align="right">149.3</td>
<td align="right">151.2</td>
<td align="right">146.3</td>
<td align="right">135.8</td>
<td align="right">136.9</td>
<td align="right">133.4</td>
<td align="right">136.3</td>
<td align="right">124.4</td>
<td align="right">138.0</td>
<td align="right">120.8</td>
<td align="right">101.4</td>
<td align="right">103.6</td>
<td align="right">100.1</td>
<td align="right">94.1</td>
<td align="right">91.9</td>
<td align="right">90.8</td>
<td align="right">87.5</td>
<td align="right">90.0</td>
<td align="right">88.7</td>
<td align="right">86.9</td>
<td align="right">83.1</td>
</tr>
<tr class="odd">
<td align="left">South Carolina</td>
<td align="right">103.6</td>
<td align="right">115.0</td>
<td align="right">118.7</td>
<td align="right">125.5</td>
<td align="right">129.7</td>
<td align="right">130.5</td>
<td align="right">136.8</td>
<td align="right">137.2</td>
<td align="right">140.4</td>
<td align="right">135.7</td>
<td align="right">138.3</td>
<td align="right">136.1</td>
<td align="right">136.0</td>
<td align="right">131.1</td>
<td align="right">127.0</td>
<td align="right">125.4</td>
<td align="right">126.6</td>
<td align="right">126.6</td>
<td align="right">124.4</td>
<td align="right">122.4</td>
<td align="right">118.6</td>
<td align="right">121.5</td>
<td align="right">112.8</td>
<td align="right">115.2</td>
<td align="right">112.2</td>
<td align="right">109.2</td>
<td align="right">102.9</td>
<td align="right">124.5</td>
<td align="right">126.9</td>
<td align="right">109.4</td>
<td align="right">103.9</td>
</tr>
<tr class="even">
<td align="left">South Dakota</td>
<td align="right">92.7</td>
<td align="right">96.7</td>
<td align="right">103.0</td>
<td align="right">103.5</td>
<td align="right">108.4</td>
<td align="right">113.5</td>
<td align="right">116.7</td>
<td align="right">115.6</td>
<td align="right">116.9</td>
<td align="right">117.4</td>
<td align="right">114.7</td>
<td align="right">115.7</td>
<td align="right">113.0</td>
<td align="right">109.8</td>
<td align="right">105.7</td>
<td align="right">104.4</td>
<td align="right">97.0</td>
<td align="right">95.8</td>
<td align="right">91.9</td>
<td align="right">87.4</td>
<td align="right">88.3</td>
<td align="right">91.8</td>
<td align="right">93.0</td>
<td align="right">91.6</td>
<td align="right">94.8</td>
<td align="right">98.6</td>
<td align="right">92.3</td>
<td align="right">88.8</td>
<td align="right">88.3</td>
<td align="right">83.5</td>
<td align="right">75.1</td>
</tr>
<tr class="odd">
<td align="left">Tennessee</td>
<td align="right">99.8</td>
<td align="right">106.3</td>
<td align="right">111.5</td>
<td align="right">109.7</td>
<td align="right">114.8</td>
<td align="right">117.4</td>
<td align="right">121.7</td>
<td align="right">124.6</td>
<td align="right">127.3</td>
<td align="right">127.2</td>
<td align="right">130.4</td>
<td align="right">129.1</td>
<td align="right">131.4</td>
<td align="right">129.0</td>
<td align="right">125.1</td>
<td align="right">128.7</td>
<td align="right">129.0</td>
<td align="right">130.6</td>
<td align="right">125.3</td>
<td align="right">124.7</td>
<td align="right">121.8</td>
<td align="right">120.6</td>
<td align="right">121.0</td>
<td align="right">120.8</td>
<td align="right">118.8</td>
<td align="right">125.4</td>
<td align="right">119.2</td>
<td align="right">118.9</td>
<td align="right">119.7</td>
<td align="right">115.6</td>
<td align="right">108.7</td>
</tr>
<tr class="even">
<td align="left">Texas</td>
<td align="right">106.4</td>
<td align="right">108.9</td>
<td align="right">108.6</td>
<td align="right">110.4</td>
<td align="right">114.7</td>
<td align="right">116.0</td>
<td align="right">121.4</td>
<td align="right">124.2</td>
<td align="right">126.6</td>
<td align="right">126.4</td>
<td align="right">129.7</td>
<td align="right">129.0</td>
<td align="right">131.2</td>
<td align="right">126.4</td>
<td align="right">117.2</td>
<td align="right">115.9</td>
<td align="right">113.7</td>
<td align="right">105.8</td>
<td align="right">96.5</td>
<td align="right">94.5</td>
<td align="right">85.6</td>
<td align="right">79.4</td>
<td align="right">77.2</td>
<td align="right">81.3</td>
<td align="right">78.8</td>
<td align="right">75.2</td>
<td align="right">74.6</td>
<td align="right">72.6</td>
<td align="right">73.2</td>
<td align="right">67.6</td>
<td align="right">69.3</td>
</tr>
<tr class="odd">
<td align="left">Utah</td>
<td align="right">65.5</td>
<td align="right">67.7</td>
<td align="right">71.3</td>
<td align="right">72.7</td>
<td align="right">75.6</td>
<td align="right">75.8</td>
<td align="right">77.9</td>
<td align="right">78.0</td>
<td align="right">79.6</td>
<td align="right">79.1</td>
<td align="right">74.8</td>
<td align="right">77.6</td>
<td align="right">73.6</td>
<td align="right">69.0</td>
<td align="right">66.3</td>
<td align="right">66.5</td>
<td align="right">64.4</td>
<td align="right">67.7</td>
<td align="right">55.0</td>
<td align="right">57.0</td>
<td align="right">53.4</td>
<td align="right">53.5</td>
<td align="right">55.0</td>
<td align="right">56.2</td>
<td align="right">55.8</td>
<td align="right">52.0</td>
<td align="right">54.0</td>
<td align="right">57.0</td>
<td align="right">42.3</td>
<td align="right">43.9</td>
<td align="right">40.7</td>
</tr>
<tr class="even">
<td align="left">Vermont</td>
<td align="right">122.6</td>
<td align="right">124.4</td>
<td align="right">138.0</td>
<td align="right">146.8</td>
<td align="right">151.8</td>
<td align="right">155.5</td>
<td align="right">171.1</td>
<td align="right">169.4</td>
<td align="right">162.4</td>
<td align="right">160.9</td>
<td align="right">161.6</td>
<td align="right">163.8</td>
<td align="right">162.3</td>
<td align="right">153.8</td>
<td align="right">144.3</td>
<td align="right">144.5</td>
<td align="right">131.2</td>
<td align="right">128.3</td>
<td align="right">128.7</td>
<td align="right">120.9</td>
<td align="right">124.3</td>
<td align="right">120.9</td>
<td align="right">126.5</td>
<td align="right">117.2</td>
<td align="right">120.3</td>
<td align="right">123.2</td>
<td align="right">102.5</td>
<td align="right">97.7</td>
<td align="right">97.0</td>
<td align="right">94.1</td>
<td align="right">88.9</td>
</tr>
<tr class="odd">
<td align="left">Virginia</td>
<td align="right">124.3</td>
<td align="right">128.4</td>
<td align="right">137.0</td>
<td align="right">143.1</td>
<td align="right">149.6</td>
<td align="right">152.7</td>
<td align="right">158.1</td>
<td align="right">157.7</td>
<td align="right">155.9</td>
<td align="right">151.8</td>
<td align="right">148.9</td>
<td align="right">149.9</td>
<td align="right">147.4</td>
<td align="right">144.7</td>
<td align="right">136.8</td>
<td align="right">134.6</td>
<td align="right">135.8</td>
<td align="right">133.0</td>
<td align="right">129.5</td>
<td align="right">122.5</td>
<td align="right">118.9</td>
<td align="right">109.1</td>
<td align="right">108.2</td>
<td align="right">105.4</td>
<td align="right">106.2</td>
<td align="right">106.7</td>
<td align="right">104.6</td>
<td align="right">108.0</td>
<td align="right">105.6</td>
<td align="right">102.1</td>
<td align="right">96.7</td>
</tr>
<tr class="even">
<td align="left">West Virginia</td>
<td align="right">114.5</td>
<td align="right">111.5</td>
<td align="right">117.5</td>
<td align="right">116.6</td>
<td align="right">119.9</td>
<td align="right">123.2</td>
<td align="right">129.7</td>
<td align="right">133.9</td>
<td align="right">131.6</td>
<td align="right">122.1</td>
<td align="right">122.3</td>
<td align="right">120.5</td>
<td align="right">119.8</td>
<td align="right">115.7</td>
<td align="right">111.9</td>
<td align="right">109.1</td>
<td align="right">112.1</td>
<td align="right">107.5</td>
<td align="right">109.1</td>
<td align="right">104.0</td>
<td align="right">104.1</td>
<td align="right">100.1</td>
<td align="right">97.9</td>
<td align="right">111.0</td>
<td align="right">104.2</td>
<td align="right">115.2</td>
<td align="right">112.7</td>
<td align="right">114.5</td>
<td align="right">114.6</td>
<td align="right">112.4</td>
<td align="right">107.9</td>
</tr>
<tr class="odd">
<td align="left">Wisconsin</td>
<td align="right">106.4</td>
<td align="right">105.4</td>
<td align="right">108.8</td>
<td align="right">109.5</td>
<td align="right">111.8</td>
<td align="right">113.5</td>
<td align="right">115.4</td>
<td align="right">117.2</td>
<td align="right">116.7</td>
<td align="right">117.1</td>
<td align="right">117.6</td>
<td align="right">119.9</td>
<td align="right">115.6</td>
<td align="right">106.3</td>
<td align="right">105.6</td>
<td align="right">107.0</td>
<td align="right">105.4</td>
<td align="right">106.0</td>
<td align="right">102.6</td>
<td align="right">100.3</td>
<td align="right">94.0</td>
<td align="right">95.5</td>
<td align="right">96.2</td>
<td align="right">91.2</td>
<td align="right">91.8</td>
<td align="right">93.5</td>
<td align="right">92.1</td>
<td align="right">91.9</td>
<td align="right">88.7</td>
<td align="right">84.4</td>
<td align="right">80.1</td>
</tr>
<tr class="even">
<td align="left">Wyoming</td>
<td align="right">132.2</td>
<td align="right">131.7</td>
<td align="right">140.0</td>
<td align="right">141.2</td>
<td align="right">145.8</td>
<td align="right">160.7</td>
<td align="right">161.5</td>
<td align="right">160.4</td>
<td align="right">160.3</td>
<td align="right">168.6</td>
<td align="right">158.1</td>
<td align="right">163.1</td>
<td align="right">157.7</td>
<td align="right">141.2</td>
<td align="right">128.9</td>
<td align="right">125.7</td>
<td align="right">124.8</td>
<td align="right">110.4</td>
<td align="right">114.3</td>
<td align="right">111.4</td>
<td align="right">96.9</td>
<td align="right">109.1</td>
<td align="right">110.8</td>
<td align="right">108.4</td>
<td align="right">111.2</td>
<td align="right">115.0</td>
<td align="right">110.3</td>
<td align="right">108.8</td>
<td align="right">102.9</td>
<td align="right">104.8</td>
<td align="right">90.5</td>
</tr>
<tr class="odd">
<td align="left">California</td>
<td align="right">123.0</td>
<td align="right">121.0</td>
<td align="right">123.5</td>
<td align="right">124.4</td>
<td align="right">126.7</td>
<td align="right">127.1</td>
<td align="right">128.0</td>
<td align="right">126.4</td>
<td align="right">126.1</td>
<td align="right">121.9</td>
<td align="right">120.2</td>
<td align="right">118.6</td>
<td align="right">115.4</td>
<td align="right">110.8</td>
<td align="right">104.8</td>
<td align="right">102.8</td>
<td align="right">99.7</td>
<td align="right">97.5</td>
<td align="right">90.1</td>
<td align="right">82.4</td>
<td align="right">77.8</td>
<td align="right">68.7</td>
<td align="right">67.5</td>
<td align="right">63.4</td>
<td align="right">58.6</td>
<td align="right">56.4</td>
<td align="right">54.5</td>
<td align="right">53.8</td>
<td align="right">52.3</td>
<td align="right">47.2</td>
<td align="right">41.6</td>
</tr>
</tbody>
</table>
</td>
<td>
<table>
<thead>
<tr class="header">
<th align="right">x</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">38</td>
</tr>
</tbody>
</table>
</td>
<td>
<table>
<thead>
<tr class="header">
<th align="right">x</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">19</td>
</tr>
</tbody>
</table>
</td>
<td>
<table>
<colgroup>
<col width="8%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
<col width="2%" />
</colgroup>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">1970</th>
<th align="right">1971</th>
<th align="right">1972</th>
<th align="right">1973</th>
<th align="right">1974</th>
<th align="right">1975</th>
<th align="right">1976</th>
<th align="right">1977</th>
<th align="right">1978</th>
<th align="right">1979</th>
<th align="right">1980</th>
<th align="right">1981</th>
<th align="right">1982</th>
<th align="right">1983</th>
<th align="right">1984</th>
<th align="right">1985</th>
<th align="right">1986</th>
<th align="right">1987</th>
<th align="right">1988</th>
<th align="right">1989</th>
<th align="right">1990</th>
<th align="right">1991</th>
<th align="right">1992</th>
<th align="right">1993</th>
<th align="right">1994</th>
<th align="right">1995</th>
<th align="right">1996</th>
<th align="right">1997</th>
<th align="right">1998</th>
<th align="right">1999</th>
<th align="right">2000</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Alabama</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Arkansas</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Colorado</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Connecticut</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Delaware</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Georgia</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Idaho</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Illinois</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Indiana</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Iowa</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Kansas</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Kentucky</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Louisiana</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Maine</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Minnesota</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Mississippi</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Missouri</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Montana</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Nebraska</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Nevada</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">New Hampshire</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">New Mexico</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">North Carolina</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">North Dakota</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Ohio</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Oklahoma</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Pennsylvania</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Rhode Island</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">South Carolina</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">South Dakota</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Tennessee</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Texas</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Utah</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Vermont</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Virginia</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">West Virginia</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Wisconsin</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Wyoming</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">California</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="synthetic-control.html#cb18-1" tabindex="-1"></a>estimates <span class="ot">&lt;-</span> <span class="fu">lapply</span>(estimators, <span class="cf">function</span>(estimator) { <span class="fu">estimator</span>(setup<span class="sc">$</span>Y,</span>
<span id="cb18-2"><a href="synthetic-control.html#cb18-2" tabindex="-1"></a>                                                               setup<span class="sc">$</span>N0, setup<span class="sc">$</span>T0) } )</span>
<span id="cb18-3"><a href="synthetic-control.html#cb18-3" tabindex="-1"></a></span>
<span id="cb18-4"><a href="synthetic-control.html#cb18-4" tabindex="-1"></a><span class="fu">head</span>(estimates)</span></code></pre></div>
<pre><code>## $did
## synthdid: -27.349 +- NA. Effective N0/N0 = 38.0/38~1.0. Effective T0/T0 = 19.0/19~1.0. N1,T1 = 1,12. 
## 
## $sc
## synthdid: -19.620 +- NA. Effective N0/N0 = 3.8/38~0.1. Effective T0/T0 = Inf/19~Inf. N1,T1 = 1,12. 
## 
## $sdid
## synthdid: -15.604 +- NA. Effective N0/N0 = 16.4/38~0.4. Effective T0/T0 = 2.8/19~0.1. N1,T1 = 1,12.</code></pre>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="synthetic-control.html#cb20-1" tabindex="-1"></a>standard.errors <span class="ot">=</span> <span class="fu">mapply</span>(<span class="cf">function</span>(estimate, name) {</span>
<span id="cb20-2"><a href="synthetic-control.html#cb20-2" tabindex="-1"></a>  <span class="fu">set.seed</span>(<span class="dv">12345</span>)</span>
<span id="cb20-3"><a href="synthetic-control.html#cb20-3" tabindex="-1"></a>  <span class="cf">if</span>(name <span class="sc">==</span> <span class="st">&#39;mc&#39;</span>) { <span class="fu">mc_placebo_se</span>(setup<span class="sc">$</span>Y, setup<span class="sc">$</span>N0, setup<span class="sc">$</span>T0) }</span>
<span id="cb20-4"><a href="synthetic-control.html#cb20-4" tabindex="-1"></a>  <span class="cf">else</span> {             <span class="fu">sqrt</span>(<span class="fu">vcov</span>(estimate, <span class="at">method=</span><span class="st">&#39;placebo&#39;</span>))     }</span>
<span id="cb20-5"><a href="synthetic-control.html#cb20-5" tabindex="-1"></a>}, estimates, <span class="fu">names</span>(estimators))</span>
<span id="cb20-6"><a href="synthetic-control.html#cb20-6" tabindex="-1"></a></span>
<span id="cb20-7"><a href="synthetic-control.html#cb20-7" tabindex="-1"></a><span class="fu">head</span>(standard.errors)</span></code></pre></div>
<pre><code>##       did        sc      sdid 
## 17.740267  9.917426  8.367993</code></pre>
<p>Plot comparando as estimativas.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="synthetic-control.html#cb22-1" tabindex="-1"></a><span class="fu">synthdid_plot</span>(estimates[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>], <span class="at">facet.vertical=</span><span class="cn">FALSE</span>,</span>
<span id="cb22-2"><a href="synthetic-control.html#cb22-2" tabindex="-1"></a>              <span class="at">control.name=</span><span class="st">&#39;control&#39;</span>, <span class="at">treated.name=</span><span class="st">&#39;california&#39;</span>,</span>
<span id="cb22-3"><a href="synthetic-control.html#cb22-3" tabindex="-1"></a>              <span class="at">lambda.comparable=</span><span class="cn">TRUE</span>, <span class="at">se.method =</span> <span class="st">&#39;none&#39;</span>,</span>
<span id="cb22-4"><a href="synthetic-control.html#cb22-4" tabindex="-1"></a>              <span class="at">trajectory.linetype =</span> <span class="dv">1</span>, <span class="at">line.width=</span>.<span class="dv">75</span>, <span class="at">effect.curvature=</span><span class="sc">-</span>.<span class="dv">4</span>,</span>
<span id="cb22-5"><a href="synthetic-control.html#cb22-5" tabindex="-1"></a>              <span class="at">trajectory.alpha=</span>.<span class="dv">7</span>, <span class="at">effect.alpha=</span>.<span class="dv">7</span>,</span>
<span id="cb22-6"><a href="synthetic-control.html#cb22-6" tabindex="-1"></a>              <span class="at">diagram.alpha=</span><span class="dv">1</span>, <span class="at">onset.alpha=</span>.<span class="dv">7</span>) <span class="sc">+</span></span>
<span id="cb22-7"><a href="synthetic-control.html#cb22-7" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="fu">c</span>(.<span class="dv">26</span>,.<span class="dv">07</span>), <span class="at">legend.direction=</span><span class="st">&#39;horizontal&#39;</span>,</span>
<span id="cb22-8"><a href="synthetic-control.html#cb22-8" tabindex="-1"></a>        <span class="at">legend.key=</span><span class="fu">element_blank</span>(), <span class="at">legend.background=</span><span class="fu">element_blank</span>(),</span>
<span id="cb22-9"><a href="synthetic-control.html#cb22-9" tabindex="-1"></a>        <span class="at">strip.background=</span><span class="fu">element_blank</span>(), <span class="at">strip.text.x =</span> <span class="fu">element_blank</span>())</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/sdid1-1.png" width="672" /></p>
<p>Plot comparando os pesos.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="synthetic-control.html#cb23-1" tabindex="-1"></a><span class="fu">synthdid_units_plot</span>(<span class="fu">rev</span>(estimates[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]), <span class="at">se.method=</span><span class="st">&#39;none&#39;</span>) </span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/sdid2-1.png" width="672" /></p>
</div>
<div id="referências-7" class="section level2 hasAnchor" number="10.3">
<h2><span class="header-section-number">10.3</span> Referências<a href="synthetic-control.html#referências-7" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Alcocer, J. J. (2025). Minority Legislators Sponsor and Cosponsor Differently from White Legislators: Causal Evidence from U.S. Congress. The Journal of Race, Ethnicity, and Politics, 1–13. <a href="doi:10.1017/rep.2025.29" class="uri">doi:10.1017/rep.2025.29</a></p>
<p>Arkhangelsky, D., Athey, S., Hirshberg, D. A., Imbens, G. W., &amp; Wager, S. (2021). Synthetic difference-in-differences. American Economic Review, 111(12), 4088-4118.</p>
<p>Arkhangelsky, D., &amp; Imbens, G. (2024). Causal models for longitudinal and panel data: A survey. The Econometrics Journal, 27(3), C1-C61.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="time-series-cross-section-tscs.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="llms-e-outras.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": "https://github.com/mgaldino/Causalidade/edit/main/11-Synth.Rmd",
    "text": "Edit"
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": "https://github.com/mgaldino/Causalidade/blob/main/11-Synth.Rmd",
    "text": null
  },
  "download": null,
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "subsection"
  }
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
